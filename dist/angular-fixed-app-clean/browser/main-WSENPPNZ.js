var UT=Object.defineProperty,BT=Object.defineProperties;var HT=Object.getOwnPropertyDescriptors;var t_=Object.getOwnPropertySymbols;var $T=Object.prototype.hasOwnProperty,WT=Object.prototype.propertyIsEnumerable;var n_=(e,t,n)=>t in e?UT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})$T.call(t,n)&&n_(e,n,t[n]);if(t_)for(var n of t_(t))WT.call(t,n)&&n_(e,n,t[n]);return e},k=(e,t)=>BT(e,HT(t));var m=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var qd;function za(){return qd}function Lt(e){let t=qd;return qd=e,t}var r_=Symbol("NotFound"),Uo=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function lr(e){return e===r_||e?.name==="\u0275NotFound"}function Za(e,t){return Object.is(e,t)}var ve=null,Ga=!1,Yd=1,zT=null,Ne=Symbol("SIGNAL");function F(e){let t=ve;return ve=e,t}function Qa(){return ve}var ur={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gi(e){if(Ga)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(e);let t=ve.nextProducerIndex++;if(tc(ve),t<ve.producerNode.length&&ve.producerNode[t]!==e&&Ho(ve)){let n=ve.producerNode[t];ec(n,ve.producerIndexOfThis[t])}ve.producerNode[t]!==e&&(ve.producerNode[t]=e,ve.producerIndexOfThis[t]=Ho(ve)?o_(e,ve,t):0),ve.producerLastReadVersion[t]=e.version}function i_(){Yd++}function Ja(e){if(!(Ho(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Yd)){if(!e.producerMustRecompute(e)&&!$o(e)){Ka(e);return}e.producerRecomputeValue(e),Ka(e)}}function Kd(e){if(e.liveConsumerNode===void 0)return;let t=Ga;Ga=!0;try{for(let n of e.liveConsumerNode)n.dirty||GT(n)}finally{Ga=t}}function Zd(){return ve?.consumerAllowSignalWrites!==!1}function GT(e){e.dirty=!0,Kd(e),e.consumerMarkedDirty?.(e)}function Ka(e){e.dirty=!1,e.lastCleanEpoch=Yd}function dr(e){return e&&(e.nextProducerIndex=0),F(e)}function mi(e,t){if(F(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ho(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ec(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $o(e){tc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ja(n),r!==n.version))return!0}return!1}function Xa(e){if(tc(e),Ho(e))for(let t=0;t<e.producerNode.length;t++)ec(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function o_(e,t,n){if(s_(e),e.liveConsumerNode.length===0&&a_(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=o_(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ec(e,t){if(s_(e),e.liveConsumerNode.length===1&&a_(e))for(let r=0;r<e.producerNode.length;r++)ec(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];tc(i),i.producerIndexOfThis[r]=t}}function Ho(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function tc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function s_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function a_(e){return e.producerNode!==void 0}function nc(e){zT?.(e)}function rc(e,t){let n=Object.create(qT);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ja(n),gi(n),n.value===Bo)throw n.error;return n.value};return r[Ne]=n,nc(n),r}var qa=Symbol("UNSET"),Ya=Symbol("COMPUTING"),Bo=Symbol("ERRORED"),qT=k(v({},ur),{value:qa,dirty:!0,error:null,equal:Za,kind:"computed",producerMustRecompute(e){return e.value===qa||e.value===Ya},producerRecomputeValue(e){if(e.value===Ya)throw new Error("");let t=e.value;e.value=Ya;let n=dr(e),r,i=!1;try{r=e.computation(),F(null),i=t!==qa&&t!==Bo&&r!==Bo&&e.equal(t,r)}catch(o){r=Bo,e.error=o}finally{mi(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function YT(){throw new Error}var c_=YT;function l_(e){c_(e)}function Qd(e){c_=e}var KT=null;function Jd(e,t){let n=Object.create(ic);n.value=e,t!==void 0&&(n.equal=t);let r=()=>u_(n);return r[Ne]=n,nc(n),[r,s=>vi(n,s),s=>Xd(n,s)]}function u_(e){return gi(e),e.value}function vi(e,t){Zd()||l_(e),e.equal(e.value,t)||(e.value=t,ZT(e))}function Xd(e,t){Zd()||l_(e),vi(e,t(e.value))}var ic=k(v({},ur),{equal:Za,value:void 0,kind:"signal"});function ZT(e){e.version++,i_(),Kd(e),KT?.(e)}function O(e){return typeof e=="function"}function _i(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var oc=_i(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var oe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){t=o instanceof oc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{d_(o)}catch(s){t=t??[],s instanceof oc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new oc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)d_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&fr(n,t)}remove(t){let{_finalizers:n}=this;n&&fr(n,t),t instanceof e&&t._removeParent(this)}};oe.EMPTY=(()=>{let e=new oe;return e.closed=!0,e})();var ef=oe.EMPTY;function sc(e){return e instanceof oe||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function d_(e){O(e)?e():e.unsubscribe()}var gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout(e,t,...n){let{delegate:r}=yi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=yi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ac(e){yi.setTimeout(()=>{let{onUnhandledError:t}=gt;if(t)t(e);else throw e})}function Wo(){}var f_=tf("C",void 0,void 0);function h_(e){return tf("E",void 0,e)}function p_(e){return tf("N",e,void 0)}function tf(e,t,n){return{kind:e,value:t,error:n}}var hr=null;function Ei(e){if(gt.useDeprecatedSynchronousErrorHandling){let t=!hr;if(t&&(hr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=hr;if(hr=null,n)throw r}}else e()}function g_(e){gt.useDeprecatedSynchronousErrorHandling&&hr&&(hr.errorThrown=!0,hr.error=e)}var pr=class extends oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,sc(t)&&t.add(this)):this.destination=XT}static create(t,n,r){return new Ci(t,n,r)}next(t){this.isStopped?rf(p_(t),this):this._next(t)}error(t){this.isStopped?rf(h_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?rf(f_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QT=Function.prototype.bind;function nf(e,t){return QT.call(e,t)}var of=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){cc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){cc(r)}else cc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){cc(n)}}},Ci=class extends pr{constructor(t,n,r){super();let i;if(O(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&nf(t.next,o),error:t.error&&nf(t.error,o),complete:t.complete&&nf(t.complete,o)}):i=t}this.destination=new of(i)}};function cc(e){gt.useDeprecatedSynchronousErrorHandling?g_(e):ac(e)}function JT(e){throw e}function rf(e,t){let{onStoppedNotification:n}=gt;n&&yi.setTimeout(()=>n(e,t))}var XT={closed:!0,next:Wo,error:JT,complete:Wo};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(e){return e}function sf(...e){return af(e)}function af(e){return e.length===0?Qe:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tS(n)?n:new Ci(n,r,i);return Ei(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=m_(r),new r((i,o)=>{let s=new Ci({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ii](){return this}pipe(...n){return af(n)(this)}toPromise(n){return n=m_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function m_(e){var t;return(t=e??gt.Promise)!==null&&t!==void 0?t:Promise}function eS(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function tS(e){return e&&e instanceof pr||eS(e)&&sc(e)}function cf(e){return O(e?.lift)}function z(e){return t=>{if(cf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,r,i){return new lf(e,t,n,r,i)}var lf=class extends pr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function wi(){return z((e,t)=>{let n=null;e._refCount++;let r=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Di=class extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new oe;let n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=oe.EMPTY)}return t}refCount(){return wi()(this)}};var v_=_i(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new v_}next(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ef:(this.currentObservers=null,o.push(n),new oe(()=>{this.currentObservers=null,fr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return e.create=(t,n)=>new lc(t,n),e})(),lc=class extends ue{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ef}};var De=class extends ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var uf={now(){return(uf.delegate||Date).now()},delegate:void 0};var uc=class extends oe{constructor(t,n){super()}schedule(t,n=0){return this}};var zo={setInterval(e,t,...n){let{delegate:r}=zo;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=zo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var bi=class extends uc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return zo.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Ti=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Ti.now=uf.now;var Si=class extends Ti{constructor(t,n=Ti.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var df=new Si(bi);var dc=class extends bi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var fc=class extends Si{};var ff=new fc(dc);var je=new L(e=>e.complete());function __(e){return e&&O(e.schedule)}function y_(e){return e[e.length-1]}function hc(e){return O(y_(e))?e.pop():void 0}function Tn(e){return __(y_(e))?e.pop():void 0}function hf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function C_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function E_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gr(e){return this instanceof gr?(this.v=e,this):new gr(e)}function I_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(y){return new Promise(function(D,S){o.push([h,y,D,S])>1||c(h,y)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof gr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function w_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof E_=="function"?E_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var pc=e=>e&&typeof e.length=="number"&&typeof e!="function";function gc(e){return O(e?.then)}function mc(e){return O(e[Ii])}function vc(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function _c(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yc=nS();function Ec(e){return O(e?.[yc])}function Cc(e){return I_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield gr(n.read());if(i)return yield gr(void 0);yield yield gr(r)}}finally{n.releaseLock()}})}function Ic(e){return O(e?.getReader)}function de(e){if(e instanceof L)return e;if(e!=null){if(mc(e))return rS(e);if(pc(e))return iS(e);if(gc(e))return oS(e);if(vc(e))return D_(e);if(Ec(e))return sS(e);if(Ic(e))return aS(e)}throw _c(e)}function rS(e){return new L(t=>{let n=e[Ii]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iS(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function oS(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ac)})}function sS(e){return new L(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function D_(e){return new L(t=>{cS(e,t).catch(n=>t.error(n))})}function aS(e){return D_(Cc(e))}function cS(e,t){var n,r,i,o;return C_(this,void 0,void 0,function*(){try{for(n=w_(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ue(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Sn(e,t=0){return z((n,r)=>{n.subscribe(B(r,i=>Ue(r,e,()=>r.next(i),t),()=>Ue(r,e,()=>r.complete(),t),i=>Ue(r,e,()=>r.error(i),t)))})}function An(e,t=0){return z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function b_(e,t){return de(e).pipe(An(t),Sn(t))}function T_(e,t){return de(e).pipe(An(t),Sn(t))}function S_(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function A_(e,t){return new L(n=>{let r;return Ue(n,t,()=>{r=e[yc](),Ue(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function wc(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{Ue(n,t,()=>{let r=e[Symbol.asyncIterator]();Ue(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function N_(e,t){return wc(Cc(e),t)}function R_(e,t){if(e!=null){if(mc(e))return b_(e,t);if(pc(e))return S_(e,t);if(gc(e))return T_(e,t);if(vc(e))return wc(e,t);if(Ec(e))return A_(e,t);if(Ic(e))return N_(e,t)}throw _c(e)}function te(e,t){return t?R_(e,t):de(e)}function A(...e){let t=Tn(e);return te(e,t)}function Ai(e,t){let n=O(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}function pf(e){return!!e&&(e instanceof L||O(e.lift)&&O(e.subscribe))}var cn=_i(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function H(e,t){return z((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:lS}=Array;function uS(e,t){return lS(t)?e(...t):e(t)}function Dc(e){return H(t=>uS(e,t))}var{isArray:dS}=Array,{getPrototypeOf:fS,prototype:hS,keys:pS}=Object;function bc(e){if(e.length===1){let t=e[0];if(dS(t))return{args:t,keys:null};if(gS(t)){let n=pS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function gS(e){return e&&typeof e=="object"&&fS(e)===hS}function Tc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Go(...e){let t=Tn(e),n=hc(e),{args:r,keys:i}=bc(e);if(r.length===0)return te([],t);let o=new L(mS(r,t,i?s=>Tc(i,s):Qe));return n?o.pipe(Dc(n)):o}function mS(e,t,n=Qe){return r=>{M_(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)M_(t,()=>{let l=te(e[c],t),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function M_(e,t,n){e?Ue(n,e,t):t()}function O_(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let D=!1;de(n(y,u++)).subscribe(B(t,S=>{i?.(S),o?h(S):t.next(S)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let S=c.shift();s?Ue(t,s,()=>p(S)):p(S)}f()}catch(S){t.error(S)}}))};return e.subscribe(B(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ae(e,t,n=1/0){return O(t)?ae((r,i)=>H((o,s)=>t(r,o,i,s))(de(e(r,i))),n):(typeof t=="number"&&(n=t),z((r,i)=>O_(r,i,e,n)))}function Ni(e=1/0){return ae(Qe,e)}function k_(){return Ni(1)}function Ri(...e){return k_()(te(e,Tn(e)))}function qo(e){return new L(t=>{de(e()).subscribe(t)})}function gf(...e){let t=hc(e),{args:n,keys:r}=bc(e),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;de(n[u]).subscribe(B(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Tc(r,a):a),o.complete())}))}});return t?i.pipe(Dc(t)):i}function Be(e,t){return z((n,r)=>{let i=0;n.subscribe(B(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ln(e){return z((t,n)=>{let r=null,i=!1,o;r=t.subscribe(B(n,void 0,void 0,s=>{o=de(e(s,ln(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function x_(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Nn(e,t){return O(t)?ae(e,t,1):ae(e,1)}function Rn(e){return z((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function un(e){return e<=0?()=>je:z((t,n)=>{let r=0;t.subscribe(B(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Sc(e=vS){return z((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function vS(){return new cn}function Yo(e){return z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function dn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Qe,un(1),n?Rn(t):Sc(()=>new cn))}function Mi(e){return e<=0?()=>je:z((t,n)=>{let r=[];t.subscribe(B(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Qe,Mi(1),n?Rn(t):Sc(()=>new cn))}function vf(e,t){return z(x_(e,t,arguments.length>=2,!0))}function _f(...e){let t=Tn(e);return z((n,r)=>{(t?Ri(e,n,t):Ri(e,n)).subscribe(r)})}function Je(e,t){return z((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;de(e(c,u)).subscribe(i=B(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ac(e){return z((t,n)=>{de(e).subscribe(B(n,()=>n.complete(),Wo)),!n.closed&&t.subscribe(n)})}function Ce(e,t,n){let r=O(e)||t||n?{next:e,error:t,complete:n}:e;return r?z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Qe}function P_(e){let t=F(null);try{return e()}finally{F(t)}}var kc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(t,n){super(ki(t,n)),this.code=t}};function _S(e){return`NG0${Math.abs(e)}`}function ki(e,t){return`${_S(e)}${t?": "+t:""}`}var Jo=globalThis;function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("")}function j_(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function He(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(He).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Mf(e,t){return e?t?`${e} ${t}`:e:t||""}var yS=ne({__forward_ref__:ne});function Cr(e){return e.__forward_ref__=Cr,e.toString=function(){return He(this())},e}function be(e){return Of(e)?e():e}function Of(e){return typeof e=="function"&&e.hasOwnProperty(yS)&&e.__forward_ref__===Cr}function U_(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xo(e){return ES(e,xc)}function kf(e){return Xo(e)!==null}function ES(e,t){return e.hasOwnProperty(t)&&e[t]||null}function CS(e){let t=e?.[xc]??null;return t||null}function Ef(e){return e&&e.hasOwnProperty(Rc)?e[Rc]:null}var xc=ne({\u0275prov:ne}),Rc=ne({\u0275inj:ne}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xf(e){return e&&!!e.\u0275providers}var Pf=ne({\u0275cmp:ne}),Ff=ne({\u0275dir:ne}),Lf=ne({\u0275pipe:ne}),Vf=ne({\u0275mod:ne}),Zo=ne({\u0275fac:ne}),Ir=ne({__NG_ELEMENT_ID__:ne}),F_=ne({__NG_ENV_ID__:ne});function On(e){return typeof e=="string"?e:e==null?"":String(e)}function B_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():On(e)}function jf(e,t){throw new I(-200,e)}function Pc(e,t){throw new I(-201,!1)}var Cf;function H_(){return Cf}function Xe(e){let t=Cf;return Cf=e,t}function Uf(e,t,n){let r=Xo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Pc(e,"Injector")}var IS={},mr=IS,If="__NG_DI_FLAG__",wf=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=vr(n)||0;try{return this.injector.get(t,r&8?null:mr,r)}catch(i){if(lr(i))return i;throw i}}},Mc="ngTempTokenPath",wS="ngTokenPath",DS=/\n/gm,bS="\u0275",L_="__source";function TS(e,t=0){let n=za();if(n===void 0)throw new I(-203,!1);if(n===null)return Uf(e,void 0,t);{let r=SS(t),i=n.retrieve(e,r);if(lr(i)){if(r.optional)return null;throw i}return i}}function T(e,t=0){return(H_()||TS)(be(e),t)}function g(e,t){return T(e,vr(t))}function vr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function SS(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Df(e){let t=[];for(let n=0;n<e.length;n++){let r=be(e[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=AS(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(T(i,o))}else t.push(T(r))}return t}function Bf(e,t){return e[If]=t,e.prototype[If]=t,e}function AS(e){return e[If]}function NS(e,t,n,r){let i=e[Mc];throw t[L_]&&i.unshift(t[L_]),e.message=RS(`
`+e.message,i,n,r),e[wS]=i,e[Mc]=null,e}function RS(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==bS?e.slice(2):e;let i=He(t);if(Array.isArray(t))i=t.map(He).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(DS,`
  `)}`}function _r(e,t){let n=e.hasOwnProperty(Zo);return n?e[Zo]:null}function Fc(e,t){e.forEach(n=>Array.isArray(n)?Fc(n,t):t(n))}function Hf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function es(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $_(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function W_(e,t,n){let r=xi(e,t);return r>=0?e[r|1]=n:(r=~r,$_(e,r,t,n)),r}function Lc(e,t){let n=xi(e,t);if(n>=0)return e[n|1]}function xi(e,t){return MS(e,t,1)}function MS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var kn={},et=[],xn=new C(""),$f=new C("",-1),Wf=new C(""),Qo=class{get(t,n=mr){if(n===mr)throw new Uo(`NullInjectorError: No provider for ${He(t)}!`);return n}};function zf(e){return e[Vf]||null}function pn(e){return e[Pf]||null}function Gf(e){return e[Ff]||null}function z_(e){return e[Lf]||null}function gn(e){return{\u0275providers:e}}function G_(...e){return{\u0275providers:qf(!0,e),\u0275fromNgModule:!0}}function qf(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fc(t,s=>{let a=s;Oc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&q_(i,o),n}function q_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Yf(i,o=>{t(o,r)})}}function Oc(e,t,n,r){if(e=be(e),!e)return!1;let i=null,o=Ef(e),s=!o&&pn(e);if(!o&&!s){let c=e.ngModule;if(o=Ef(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Oc(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Fc(o.imports,u=>{Oc(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&q_(l,t)}if(!a){let l=_r(i)||(()=>new i);t({provide:i,useFactory:l,deps:et},i),t({provide:Wf,useValue:i,multi:!0},i),t({provide:xn,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Yf(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Yf(e,t){for(let n of e)xf(n)&&(n=n.\u0275providers),Array.isArray(n)?Yf(n,t):t(n)}var OS=ne({provide:String,useValue:ne});function Y_(e){return e!==null&&typeof e=="object"&&OS in e}function kS(e){return!!(e&&e.useExisting)}function xS(e){return!!(e&&e.useFactory)}function yr(e){return typeof e=="function"}function K_(e){return!!e.useClass}var ts=new C(""),Nc={},V_={},yf;function ns(){return yf===void 0&&(yf=new Qo),yf}var ce=class{},Er=class extends ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Tf(t,s=>this.processProvider(s)),this.records.set($f,Oi(void 0,this)),i.has("environment")&&this.records.set(ce,Oi(void 0,this));let o=this.records.get(ts);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wf,et,{self:!0}))}retrieve(t,n){let r=vr(n)||0;try{return this.get(t,mr,r)}catch(i){if(lr(i))return i;throw i}}destroy(){Ko(this),this._destroyed=!0;let t=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return Ko(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ko(this);let n=Lt(this),r=Xe(void 0),i;try{return t()}finally{Lt(n),Xe(r)}}get(t,n=mr,r){if(Ko(this),t.hasOwnProperty(F_))return t[F_](this);let i=vr(r),o,s=Lt(this),a=Xe(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=jS(t)&&Xo(t);u&&this.injectableDefInScope(u)?l=Oi(bf(t),Nc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?ns():this.parent;return n=i&8&&n===mr?null:n,c.get(t,n)}catch(c){if(lr(c)){if((c[Mc]=c[Mc]||[]).unshift(He(t)),s)throw c;return NS(c,t,"R3InjectorError",this.source)}else throw c}finally{Xe(a),Lt(s)}}resolveInjectorInitializers(){let t=F(null),n=Lt(this),r=Xe(void 0),i;try{let o=this.get(xn,et,{self:!0});for(let s of o)s()}finally{Lt(n),Xe(r),F(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(He(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=be(t);let n=yr(t)?t:be(t&&t.provide),r=FS(t);if(!yr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Oi(void 0,Nc,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=F(null);try{return n.value===V_?jf(He(t)):n.value===Nc&&(n.value=V_,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&VS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=be(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bf(e){let t=Xo(e),n=t!==null?t.factory:_r(e);if(n!==null)return n;if(e instanceof C)throw new I(204,!1);if(e instanceof Function)return PS(e);throw new I(204,!1)}function PS(e){if(e.length>0)throw new I(204,!1);let n=CS(e);return n!==null?()=>n.factory(e):()=>new e}function FS(e){if(Y_(e))return Oi(void 0,e.useValue);{let t=Kf(e);return Oi(t,Nc)}}function Kf(e,t,n){let r;if(yr(e)){let i=be(e);return _r(i)||bf(i)}else if(Y_(e))r=()=>be(e.useValue);else if(xS(e))r=()=>e.useFactory(...Df(e.deps||[]));else if(kS(e))r=(i,o)=>T(be(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=be(e&&(e.useClass||e.provide));if(LS(e))r=()=>new i(...Df(e.deps));else return _r(i)||bf(i)}return r}function Ko(e){if(e.destroyed)throw new I(205,!1)}function Oi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function LS(e){return!!e.deps}function VS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function jS(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Tf(e,t){for(let n of e)Array.isArray(n)?Tf(n,t):n&&xf(n)?Tf(n.\u0275providers,t):t(n)}function he(e,t){let n;e instanceof Er?(Ko(e),n=e):n=new wf(e);let r,i=Lt(n),o=Xe(void 0);try{return t()}finally{Lt(i),Xe(o)}}function Z_(){return H_()!==void 0||za()!=null}var _t=0,M=1,R=2,Te=3,ot=4,st=5,rs=6,Pi=7,Re=8,wr=9,Vt=10,re=11,Fi=12,Zf=13,Dr=14,at=15,br=16,Tr=17,Sr=18,is=19,Qf=20,fn=21,Vc=22,os=23,tt=24,Ar=25,Me=26,Q_=1;var Pn=7,ss=8,as=9,$e=10;function jt(e){return Array.isArray(e)&&typeof e[Q_]=="object"}function yt(e){return Array.isArray(e)&&e[Q_]===!0}function Jf(e){return(e.flags&4)!==0}function Fn(e){return e.componentOffset>-1}function Li(e){return(e.flags&1)===1}function Ut(e){return!!e.template}function Vi(e){return(e[R]&512)!==0}function Nr(e){return(e[R]&256)===256}var J_="svg",X_="math";function ct(e){for(;Array.isArray(e);)e=e[_t];return e}function Xf(e,t){return ct(t[e])}function Et(e,t){return ct(t[e.index])}function jc(e,t){return e.data[t]}function ey(e,t){return e[t]}function lt(e,t){let n=t[e];return jt(n)?n:n[_t]}function Uc(e){return(e[R]&128)===128}function ty(e){return yt(e[Te])}function Rr(e,t){return t==null?null:e[t]}function eh(e){e[Tr]=0}function th(e){e[R]&1024||(e[R]|=1024,Uc(e)&&ji(e))}function ny(e,t){for(;e>0;)t=t[Dr],e--;return t}function cs(e){return!!(e[R]&9216||e[tt]?.dirty)}function Bc(e){e[Vt].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),cs(e)&&ji(e)}function ji(e){e[Vt].changeDetectionScheduler?.notify(0);let t=Mn(e);for(;t!==null&&!(t[R]&8192||(t[R]|=8192,!Uc(t)));)t=Mn(t)}function nh(e,t){if(Nr(e))throw new I(911,!1);e[fn]===null&&(e[fn]=[]),e[fn].push(t)}function ry(e,t){if(e[fn]===null)return;let n=e[fn].indexOf(t);n!==-1&&e[fn].splice(n,1)}function Mn(e){let t=e[Te];return yt(t)?t[Te]:t}function iy(e){return e[Pi]??=[]}function oy(e){return e.cleanup??=[]}var V={lFrame:Ey(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ls=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(ls||{}),US=0,Sf=!1;function sy(){return V.lFrame.elementDepthCount}function ay(){V.lFrame.elementDepthCount++}function rh(){V.lFrame.elementDepthCount--}function Hc(){return V.bindingsEnabled}function cy(){return V.skipHydrationRootTNode!==null}function ih(e){return V.skipHydrationRootTNode===e}function oh(){V.skipHydrationRootTNode=null}function G(){return V.lFrame.lView}function We(){return V.lFrame.tView}function Ct(e){return V.lFrame.contextLView=e,e[Re]}function It(e){return V.lFrame.contextLView=null,e}function Ie(){let e=sh();for(;e!==null&&e.type===64;)e=e.parent;return e}function sh(){return V.lFrame.currentTNode}function ly(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ui(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function ah(){return V.lFrame.isParent}function uy(){V.lFrame.isParent=!1}function dy(){return V.lFrame.contextLView}function ch(e){U_("Must never be called in production mode"),US=e}function lh(){return Sf}function uh(e){let t=Sf;return Sf=e,t}function fy(){let e=V.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hy(){return V.lFrame.bindingIndex}function py(e){return V.lFrame.bindingIndex=e}function Bi(){return V.lFrame.bindingIndex++}function dh(e){let t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function gy(){return V.lFrame.inI18n}function my(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,$c(t)}function vy(){return V.lFrame.currentDirectiveIndex}function $c(e){V.lFrame.currentDirectiveIndex=e}function _y(e){let t=V.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function fh(e){V.lFrame.currentQueryIndex=e}function BS(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[st]:null}function hh(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=BS(o),i===null||(o=o[Dr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=V.lFrame=yy();return r.currentTNode=t,r.lView=e,!0}function Wc(e){let t=yy(),n=e[M];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yy(){let e=V.lFrame,t=e===null?null:e.child;return t===null?Ey(e):t}function Ey(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Cy(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ph=Cy;function zc(){let e=Cy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Iy(e){return(V.lFrame.contextLView=ny(e,V.lFrame.contextLView))[Re]}function Ln(){return V.lFrame.selectedIndex}function Vn(e){V.lFrame.selectedIndex=e}function Gc(){let e=V.lFrame;return jc(e.tView,e.selectedIndex)}function wy(){return V.lFrame.currentNamespace}var Dy=!0;function qc(){return Dy}function us(e){Dy=e}function Af(e,t=null,n=null,r){let i=gh(e,t,n,r);return i.resolveInjectorInitializers(),i}function gh(e,t=null,n=null,r,i=new Set){let o=[n||et,G_(e)];return r=r||(typeof e=="object"?void 0:He(e)),new Er(o,t||ns(),r||null,i)}var fe=class e{static THROW_IF_NOT_FOUND=mr;static NULL=new Qo;static create(t,n){if(Array.isArray(t))return Af({name:""},n,t,"");{let r=t.name??"";return Af({name:r},t.parent,t.providers,r)}}static \u0275prov=E({token:e,providedIn:"any",factory:()=>T($f)});static __NG_ELEMENT_ID__=-1},pe=new C(""),mn=(()=>{class e{static __NG_ELEMENT_ID__=HS;static __NG_ENV_ID__=n=>n}return e})(),Nf=class extends mn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Nr(this._lView)}onDestroy(t){let n=this._lView;return nh(n,t),()=>ry(n,t)}};function HS(){return new Nf(G())}var mt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ze=new C("",{providedIn:"root",factory:()=>{let e=g(ce),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(mt),t.handleError(n))}}}),by={provide:xn,useValue:()=>void g(mt),multi:!0};function mh(e){return typeof e=="function"&&e[Ne]!==void 0}function vn(e,t){let[n,r,i]=Jd(e,t?.equal),o=n,s=o[Ne];return o.set=r,o.update=i,o.asReadonly=Ty.bind(o),o}function Ty(){let e=this[Ne];if(e.readonlyFn===void 0){let t=()=>this();t[Ne]=e,e.readonlyFn=t}return e.readonlyFn}function vh(e){return mh(e)&&typeof e.set=="function"}var hn=class{},Yc=new C("",{providedIn:"root",factory:()=>!1});var _h=new C(""),yh=new C("");var Kc=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=$S}return e})();function $S(){return new Kc(G(),Ie())}var _n=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new De(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new L(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})(),Hi=(()=>{class e{internalPendingTasks=g(_n);scheduler=g(hn);errorHandler=g(ze);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})();function ds(...e){}var Eh=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>new Rf})}return e})(),Rf=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Yi(e){return{toString:e}.toString()}var Zc="__parameters__";function JS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function rE(e,t,n){return Yi(()=>{let r=JS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Zc)?c[Zc]:Object.defineProperty(c,Zc,{value:[]})[Zc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var $t=Bf(rE("Optional"),8);var iE=Bf(rE("SkipSelf"),4);function XS(e){return typeof e=="function"}var nl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oE(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Bn=(()=>{let e=()=>sE;return e.ngInherit=!0,e})();function sE(e){return e.type.prototype.ngOnChanges&&(e.setInput=t0),e0}function e0(){let e=cE(this),t=e?.current;if(t){let n=e.previous;if(n===kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function t0(e,t,n,r,i){let o=this.declaredInputs[r],s=cE(e)||n0(e,{previous:kn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new nl(l&&l.currentValue,n,c===kn),oE(e,t,i,n)}var aE="__ngSimpleChanges__";function cE(e){return e[aE]||null}function n0(e,t){return e[aE]=t}var Sy=[];var Z=function(e,t=null,n){for(let r=0;r<Sy.length;r++){let i=Sy[r];i(e,t,n)}};function r0(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=sE(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function lE(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Xc(e,t,n){uE(e,t,3,n)}function el(e,t,n,r){(e[R]&3)===n&&uE(e,t,n,r)}function Ch(e,t){let n=e[R];(n&3)===t&&(n&=16383,n+=1,e[R]=n)}function uE(e,t,n,r){let i=r!==void 0?e[Tr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Tr]+=65536),(a<o||o==-1)&&(i0(e,n,t,c),e[Tr]=(e[Tr]&4294901760)+c+2),c++}function Ay(e,t){Z(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),Z(5,e,t)}}function i0(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[R]>>14<e[Tr]>>16&&(e[R]&3)===t&&(e[R]+=16384,Ay(a,o)):Ay(a,o)}var Wi=-1,Or=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function o0(e){return(e.flags&8)!==0}function s0(e){return(e.flags&16)!==0}function a0(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];c0(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function dE(e){return e===3||e===4||e===6}function c0(e){return e.charCodeAt(0)===64}function zi(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ny(e,n,i,null,t[++r]):Ny(e,n,i,null,null))}}return e}function Ny(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function fE(e){return e!==Wi}function rl(e){return e&32767}function l0(e){return e>>16}function il(e,t){let n=l0(e),r=t;for(;n>0;)r=r[Dr],n--;return r}var Mh=!0;function Ry(e){let t=Mh;return Mh=e,t}var u0=256,hE=u0-1,pE=5,d0=0,Bt={};function f0(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ir)&&(r=n[Ir]),r==null&&(r=n[Ir]=d0++);let i=r&hE,o=1<<i;t.data[e+(i>>pE)]|=o}function ol(e,t){let n=gE(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,Ih(r.data,e),Ih(t,null),Ih(r.blueprint,null));let i=Zh(e,t),o=e.injectorIndex;if(fE(i)){let s=rl(i),a=il(i,t),c=a[M].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Ih(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gE(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Zh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=EE(i),r===null)return Wi;if(n++,i=i[Dr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wi}function Oh(e,t,n){f0(e,t,n)}function h0(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(dE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function mE(e,t,n){if(n&8||e!==void 0)return e;Pc(t,"NodeInjector")}function vE(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[wr],o=Xe(void 0);try{return i?i.get(t,r,n&8):Uf(t,r,n&8)}finally{Xe(o)}}return mE(r,t,n)}function _E(e,t,n,r=0,i){if(e!==null){if(t[R]&2048&&!(r&2)){let s=_0(e,t,n,r,Bt);if(s!==Bt)return s}let o=yE(e,t,n,r,Bt);if(o!==Bt)return o}return vE(t,n,r,i)}function yE(e,t,n,r,i){let o=m0(n);if(typeof o=="function"){if(!hh(t,e,r))return r&1?mE(i,n,r):vE(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Pc(n);else return s}finally{ph()}}else if(typeof o=="number"){let s=null,a=gE(e,t),c=Wi,l=r&1?t[at][st]:null;for((a===-1||r&4)&&(c=a===-1?Zh(e,t):t[a+8],c===Wi||!Oy(r,!1)?a=-1:(s=t[M],a=rl(c),t=il(c,t)));a!==-1;){let u=t[M];if(My(o,a,u.data)){let d=p0(a,t,n,s,r,l);if(d!==Bt)return d}c=t[a+8],c!==Wi&&Oy(r,t[M].data[a+8]===l)&&My(o,a,t)?(s=u,a=rl(c),t=il(c,t)):a=-1}}return i}function p0(e,t,n,r,i,o){let s=t[M],a=s.data[e+8],c=r==null?Fn(a)&&Mh:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=g0(a,s,n,c,l);return u!==null?sl(t,s,u,a,i):Bt}function g0(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Ut(h)&&h.type===n)return c}return null}function sl(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Or){let a=o;a.resolving&&jf(B_(s[n]));let c=Ry(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Xe(a.injectImpl):null,f=hh(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&r0(n,s[n],t)}finally{d!==null&&Xe(d),Ry(c),a.resolving=!1,ph()}}return o}function m0(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ir)?e[Ir]:void 0;return typeof t=="number"?t>=0?t&hE:v0:t}function My(e,t,n){let r=1<<e;return!!(n[t+(e>>pE)]&r)}function Oy(e,t){return!(e&2)&&!(e&1&&t)}var Mr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _E(this._tNode,this._lView,t,vr(r),n)}};function v0(){return new Mr(Ie(),G())}function Ki(e){return Yi(()=>{let t=e.prototype.constructor,n=t[Zo]||kh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Zo]||kh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kh(e){return Of(e)?()=>{let t=kh(be(e));return t&&t()}:_r(e)}function _0(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[R]&2048&&!Vi(s);){let a=yE(o,s,n,r|2,Bt);if(a!==Bt)return a;let c=o.parent;if(!c){let l=s[Qf];if(l){let u=l.get(n,Bt,r);if(u!==Bt)return u}c=EE(s),s=s[Dr]}o=c}return i}function EE(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[st]:null}function vs(e){return h0(Ie(),e)}function y0(){return yl(Ie(),G())}function yl(e,t){return new En(Et(e,t))}var En=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=y0}return e})();function CE(e){return(e.flags&128)===128}var Qh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qh||{}),IE=new Map,E0=0;function C0(){return E0++}function I0(e){IE.set(e[is],e)}function xh(e){IE.delete(e[is])}var ky="__ngContext__";function Gi(e,t){jt(t)?(e[ky]=t[is],I0(t)):e[ky]=t}function wE(e){return bE(e[Fi])}function DE(e){return bE(e[ot])}function bE(e){for(;e!==null&&!yt(e);)e=e[ot];return e}var Ph;function Jh(e){Ph=e}function TE(){if(Ph!==void 0)return Ph;if(typeof document<"u")return document;throw new I(210,!1)}var El=new C("",{providedIn:"root",factory:()=>w0}),w0="ng",Cl=new C(""),Hn=new C("",{providedIn:"platform",factory:()=>"unknown"});var Il=new C("",{providedIn:"root",factory:()=>TE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var D0="h",b0="b";var SE=!1,AE=new C("",{providedIn:"root",factory:()=>SE});var T0=(e,t,n,r)=>{};function S0(e,t,n,r){T0(e,t,n,r)}function Xh(e){return(e.flags&32)===32}var A0=()=>null;function NE(e,t,n=!1){return A0(e,t,n)}function RE(e,t){let n=e.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];fh(o),a.contentQueries(2,t[s],s)}}}finally{F(r)}}}function Fh(e,t,n){fh(0);let r=F(null);try{t(e,n)}finally{F(r)}}function ep(e,t,n){if(Jf(t)){let r=F(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yn||{});var Qc;function N0(){if(Qc===void 0&&(Qc=null,Jo.trustedTypes))try{Qc=Jo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qc}function xy(e){return N0()?.createScriptURL(e)||e}var al=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kc})`}};function _s(e){return e instanceof al?e.changingThisBreaksApplicationSecurity:e}function tp(e,t){let n=ME(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${kc})`)}return n===t}function ME(e){return e instanceof al&&e.getTypeName()||null}var R0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OE(e){return e=String(e),e.match(R0)?e:"unsafe:"+e}var wl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(wl||{});function Zi(e){let t=xE();return t?t.sanitize(wl.URL,e)||"":tp(e,"URL")?_s(e):OE(On(e))}function kE(e){let t=xE();if(t)return xy(t.sanitize(wl.RESOURCE_URL,e)||"");if(tp(e,"ResourceURL"))return xy(_s(e));throw new I(904,!1)}function M0(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?kE:Zi}function np(e,t,n){return M0(t,n)(e)}function xE(){let e=G();return e&&e[Vt].sanitizer}var O0=/^>|^->|<!--|-->|--!>|<!-$/g,k0=/(<|>)/g,x0="\u200B$1\u200B";function P0(e){return e.replace(O0,t=>t.replace(k0,x0))}function PE(e){return e instanceof Function?e():e}function F0(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var FE="ng-template";function L0(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&F0(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(rp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function rp(e){return e.type===4&&e.value!==FE}function V0(e,t,n){let r=e.type===4&&!n?FE:e.value;return t===r}function j0(e,t,n){let r=4,i=e.attrs,o=i!==null?H0(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!wt(r)&&!wt(c))return!1;if(s&&wt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!V0(e,c,n)||c===""&&t.length===1){if(wt(r))return!1;s=!0}}else if(r&8){if(i===null||!L0(e,i,c,n)){if(wt(r))return!1;s=!0}}else{let l=t[++a],u=U0(c,i,rp(e),n);if(u===-1){if(wt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(wt(r))return!1;s=!0}}}}return wt(r)||s}function wt(e){return(e&1)===0}function U0(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $0(t,e)}function B0(e,t,n=!1){for(let r=0;r<t.length;r++)if(j0(e,t[r],n))return!0;return!1}function H0(e){for(let t=0;t<e.length;t++){let n=e[t];if(dE(n))return t}return e.length}function $0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Py(e,t){return e?":not("+t.trim()+")":t}function W0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wt(s)&&(t+=Py(o,i),i=""),r=s,o=o||!wt(r);n++}return i!==""&&(t+=Py(o,i)),t}function z0(e){return e.map(W0).join(",")}function G0(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!wt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var ut={};function q0(e,t){return e.createText(t)}function Y0(e,t,n){e.setValue(t,n)}function K0(e,t){return e.createComment(P0(t))}function LE(e,t,n){return e.createElement(t,n)}function cl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function VE(e,t,n){e.appendChild(t,n)}function Fy(e,t,n,r,i){r!==null?cl(e,t,n,r,i):VE(e,t,n)}function Z0(e,t,n){e.removeChild(null,t,n)}function Q0(e,t,n){e.setAttribute(t,"style",n)}function J0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function jE(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&a0(e,t,r),i!==null&&J0(e,t,i),o!==null&&Q0(e,t,o)}function ip(e,t,n,r,i,o,s,a,c,l,u){let d=Me+r,f=d+i,h=X0(d,f),p=typeof l=="function"?l():l;return h[M]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function X0(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ut);return n}function eA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ip(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function op(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[_t]=i,d[R]=r|4|128|8|64|1024,(l!==null||e&&e[R]&2048)&&(d[R]|=2048),eh(d),d[Te]=d[Dr]=e,d[Re]=n,d[Vt]=s||e&&e[Vt],d[re]=a||e&&e[re],d[wr]=c||e&&e[wr]||null,d[st]=o,d[is]=C0(),d[rs]=u,d[Qf]=l,d[at]=t.type==2?e[at]:d,d}function tA(e,t,n){let r=Et(t,e),i=eA(n),o=e[Vt].rendererFactory,s=sp(e,op(e,i,null,UE(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function UE(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function BE(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function sp(e,t){return e[Fi]?e[Zf][ot]=t:e[Fi]=t,e[Zf]=t,t}function ie(e=1){HE(We(),G(),Ln()+e,!1)}function HE(e,t,n,r){if(!r)if((t[R]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Xc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&el(t,o,0,n)}Vn(n)}var Dl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Dl||{});function Lh(e,t,n,r){let i=F(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Dl.SignalBased)!==0&&(c=t[o][Ne]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):oE(t,c,o,r)}finally{F(i)}}var Ht=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ht||{}),nA;function ap(e,t){return nA(e,t)}function $i(e,t,n,r,i){if(r!=null){let o,s=!1;yt(r)?o=r:jt(r)&&(s=!0,r=r[_t]);let a=ct(r);e===0&&n!==null?i==null?VE(t,n,a):cl(t,n,a,i||null,!0):e===1&&n!==null?cl(t,n,a,i||null,!0):e===2?Z0(t,a,s):e===3&&t.destroyNode(a),o!=null&&pA(t,e,o,n,i)}}function rA(e,t){$E(e,t),t[_t]=null,t[st]=null}function iA(e,t,n,r,i,o){r[_t]=i,r[st]=t,bl(e,r,n,1,i,o)}function $E(e,t){t[Vt].changeDetectionScheduler?.notify(9),bl(e,t,t[re],2,null,null)}function oA(e){let t=e[Fi];if(!t)return wh(e[M],e);for(;t;){let n=null;if(jt(t))n=t[Fi];else{let r=t[$e];r&&(n=r)}if(!n){for(;t&&!t[ot]&&t!==e;)jt(t)&&wh(t[M],t),t=t[Te];t===null&&(t=e),jt(t)&&wh(t[M],t),n=t&&t[ot]}t=n}}function cp(e,t){let n=e[as],r=n.indexOf(t);n.splice(r,1)}function WE(e,t){if(Nr(t))return;let n=t[re];n.destroyNode&&bl(e,t,n,3,null,null),oA(t)}function wh(e,t){if(Nr(t))return;let n=F(null);try{t[R]&=-129,t[R]|=256,t[tt]&&Xa(t[tt]),aA(e,t),sA(e,t),t[M].type===1&&t[re].destroy();let r=t[br];if(r!==null&&yt(t[Te])){r!==t[Te]&&cp(r,t);let i=t[Sr];i!==null&&i.detachView(e)}xh(t)}finally{F(n)}}function sA(e,t){let n=e.cleanup,r=t[Pi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Pi]=null);let i=t[fn];if(i!==null){t[fn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[os];if(o!==null){t[os]=null;for(let s of o)s.destroy()}}function aA(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Or)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function cA(e,t,n){return lA(e,t.parent,n)}function lA(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[_t];if(Fn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===yn.None||i===yn.Emulated)return null}return Et(r,n)}function uA(e,t,n){return fA(e,t,n)}function dA(e,t,n){return e.type&40?Et(e,n):null}var fA=dA,Ly;function lp(e,t,n,r){let i=cA(e,r,t),o=t[re],s=r.parent||t[st],a=uA(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Fy(o,i,n[c],a,!1);else Fy(o,i,n,a,!1);Ly!==void 0&&Ly(o,r,t,n,i)}function fs(e,t){if(t!==null){let n=t.type;if(n&3)return Et(t,e);if(n&4)return Vh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return fs(e,r);{let i=e[t.index];return yt(i)?Vh(-1,i):ct(i)}}else{if(n&128)return fs(e,t.next);if(n&32)return ap(t,e)()||ct(e[t.index]);{let r=zE(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Mn(e[at]);return fs(i,r)}else return fs(e,t.next)}}}return null}function zE(e,t){if(t!==null){let r=e[at][st],i=t.projection;return r.projection[i]}return null}function Vh(e,t){let n=$e+e+1;if(n<t.length){let r=t[n],i=r[M].firstChild;if(i!==null)return fs(r,i)}return t[Pn]}function up(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Gi(ct(a),r),n.flags|=2),!Xh(n))if(c&8)up(e,t,n.child,r,i,o,!1),$i(t,e,i,a,o);else if(c&32){let l=ap(n,r),u;for(;u=l();)$i(t,e,i,u,o);$i(t,e,i,a,o)}else c&16?hA(e,t,r,n,i,o):$i(t,e,i,a,o);n=s?n.projectionNext:n.next}}function bl(e,t,n,r,i,o){up(n,r,e.firstChild,t,i,o,!1)}function hA(e,t,n,r,i,o){let s=n[at],c=s[st].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];$i(t,e,i,u,o)}else{let l=c,u=s[Te];CE(r)&&(l.flags|=128),up(e,t,l,u,i,o,!0)}}function pA(e,t,n,r,i){let o=n[Pn],s=ct(n);o!==s&&$i(t,e,r,o,i);for(let a=$e;a<n.length;a++){let c=n[a];bl(c[M],c,e,t,r,o)}}function gA(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ht.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ht.Important),e.setStyle(n,r,i,o))}}function GE(e,t,n,r,i){let o=Ln(),s=r&2;try{Vn(-1),s&&t.length>Me&&HE(e,t,Me,!1),Z(s?2:0,i,n),n(r,i)}finally{Vn(o),Z(s?3:1,i,n)}}function Tl(e,t,n){IA(e,t,n),(n.flags&64)===64&&wA(e,t,n)}function Sl(e,t,n=Et){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function mA(e,t,n,r){let o=r.get(AE,SE)||n===yn.ShadowDom,s=e.selectRootElement(t,o);return vA(s),s}function vA(e){_A(e)}var _A=()=>null;function yA(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function qE(e,t,n,r,i,o){let s=t[M];if(pp(e,s,t,n,r)){Fn(e)&&CA(t,e.index);return}e.type&3&&(n=yA(n)),EA(e,t,n,r,i,o)}function EA(e,t,n,r,i,o){if(e.type&3){let s=Et(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function CA(e,t){let n=lt(t,e);n[R]&16||(n[R]|=64)}function IA(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Fn(n)&&tA(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ol(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=sl(t,e,s,n);if(Gi(c,t),o!==null&&SA(t,s-r,c,a,n,o),Ut(a)){let l=lt(n.index,t);l[Re]=sl(t,e,s,n)}}}function wA(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=vy();try{Vn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];$c(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&DA(c,l)}}finally{Vn(-1),$c(s)}}function DA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function dp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];B0(t,o.selectors,!1)&&(r??=[],Ut(o)?r.unshift(o):r.push(o))}return r}function bA(e,t,n,r,i,o){let s=Et(e,t);TA(t[re],s,o,e.value,n,r,i)}function TA(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?On(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function SA(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Lh(r,n,c,l)}}function fp(e,t,n,r,i){let o=Me+n,s=t[M],a=i(s,t,e,r,n);t[o]=a,Ui(e,!0);let c=e.type===2;return c?(jE(t[re],a,e),(sy()===0||Li(e))&&Gi(a,t),ay()):Gi(a,t),qc()&&(!c||!Xh(e))&&lp(s,t,a,e),e}function hp(e){let t=e;return ah()?uy():(t=t.parent,Ui(t,!1)),t}function AA(e,t){let n=e[wr];if(!n)return;n.get(ze,null)?.(t)}function pp(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Lh(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Lh(u,l,r,i),a=!0}return a}function NA(e,t){let n=lt(t,e),r=n[M];RA(r,n);let i=n[_t];i!==null&&n[rs]===null&&(n[rs]=NE(i,n[wr])),Z(18),gp(r,n,n[Re]),Z(19,n[Re])}function RA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function gp(e,t,n){Wc(t);try{let r=e.viewQuery;r!==null&&Fh(1,r,n);let i=e.template;i!==null&&GE(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Sr]?.finishViewCreation(e),e.staticContentQueries&&RE(e,t),e.staticViewQueries&&Fh(2,e.viewQuery,n);let o=e.components;o!==null&&MA(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[R]&=-5,zc()}}function MA(e,t){for(let n=0;n<t.length;n++)NA(e,t[n])}function OA(e,t,n,r){let i=F(null);try{let o=t.tView,a=e[R]&4096?4096:16,c=op(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[br]=l;let u=e[Sr];return u!==null&&(c[Sr]=u.createEmbeddedView(o)),gp(o,c,n),c}finally{F(i)}}function Vy(e,t){return!t||t.firstChild===null||CE(e)}var jy=!1,kA=new C("");function ps(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ct(o)),yt(o)&&YE(o,r);let s=n.type;if(s&8)ps(e,t,n.child,r);else if(s&32){let a=ap(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=zE(t,n);if(Array.isArray(a))r.push(...a);else{let c=Mn(t[at]);ps(c[M],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YE(e,t){for(let n=$e;n<e.length;n++){let r=e[n],i=r[M].firstChild;i!==null&&ps(r[M],r,i,t)}e[Pn]!==e[_t]&&t.push(e[Pn])}function KE(e){if(e[Ar]!==null){for(let t of e[Ar])t.impl.addSequence(t);e[Ar].length=0}}var ZE=[];function xA(e){return e[tt]??PA(e)}function PA(e){let t=ZE.pop()??Object.create(LA);return t.lView=e,t}function FA(e){e.lView[tt]!==e&&(e.lView=null,ZE.push(e))}var LA=k(v({},ur),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ji(e.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function VA(e){let t=e[tt]??Object.create(jA);return t.lView=e,t}var jA=k(v({},ur),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Mn(e.lView);for(;t&&!QE(t[M]);)t=Mn(t);t&&th(t)},consumerOnSignalRead(){this.lView[tt]=this}});function QE(e){return e.type!==2}function JE(e){if(e[os]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[os])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[R]&8192)}}var UA=100;function mp(e,t=0){let r=e[Vt].rendererFactory,i=!1;i||r.begin?.();try{BA(e,t)}finally{i||r.end?.()}}function BA(e,t){let n=lh();try{uh(!0),jh(e,t);let r=0;for(;cs(e);){if(r===UA)throw new I(103,!1);r++,jh(e,1)}}finally{uh(n)}}function XE(e,t){ch(t?ls.Exhaustive:ls.OnlyDirtyViews);try{mp(e)}finally{ch(ls.Off)}}function HA(e,t,n,r){if(Nr(t))return;let i=t[R],o=!1,s=!1;Wc(t);let a=!0,c=null,l=null;o||(QE(e)?(l=xA(t),c=dr(l)):Qa()===null?(a=!1,l=VA(t),c=dr(l)):t[tt]&&(Xa(t[tt]),t[tt]=null));try{eh(t),py(e.bindingStartIndex),n!==null&&GE(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Xc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&el(t,h,0,null),Ch(t,0)}if(s||$A(t),JE(t),eC(t,0),e.contentQueries!==null&&RE(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Xc(t,h)}else{let h=e.contentHooks;h!==null&&el(t,h,1),Ch(t,1)}zA(e,t);let d=e.components;d!==null&&nC(t,d,0);let f=e.viewQuery;if(f!==null&&Fh(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Xc(t,h)}else{let h=e.viewHooks;h!==null&&el(t,h,2),Ch(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Vc]){for(let h of t[Vc])h();t[Vc]=null}o||(KE(t),t[R]&=-73)}catch(u){throw o||ji(t),u}finally{l!==null&&(mi(l,c),a&&FA(l)),zc()}}function eC(e,t){for(let n=wE(e);n!==null;n=DE(n))for(let r=$e;r<n.length;r++){let i=n[r];tC(i,t)}}function $A(e){for(let t=wE(e);t!==null;t=DE(t)){if(!(t[R]&2))continue;let n=t[as];for(let r=0;r<n.length;r++){let i=n[r];th(i)}}}function WA(e,t,n){Z(18);let r=lt(t,e);tC(r,n),Z(19,r[Re])}function tC(e,t){Uc(e)&&jh(e,t)}function jh(e,t){let r=e[M],i=e[R],o=e[tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&$o(o)),s||=!1,o&&(o.dirty=!1),e[R]&=-9217,s)HA(r,e,r.template,e[Re]);else if(i&8192){let a=F(null);try{JE(e),eC(e,1);let c=r.components;c!==null&&nC(e,c,1),KE(e)}finally{F(a)}}}function nC(e,t,n){for(let r=0;r<t.length;r++)WA(e,t[r],n)}function zA(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vn(~i);else{let o=i,s=n[++r],a=n[++r];my(s,o);let c=t[o];Z(24,c),a(2,c),Z(25,c)}}}finally{Vn(-1)}}function vp(e,t){let n=lh()?64:1088;for(e[Vt].changeDetectionScheduler?.notify(t);e;){e[R]|=n;let r=Mn(e);if(Vi(e)&&!r)return e;e=r}return null}function rC(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function GA(e,t,n,r=!0){let i=t[M];if(qA(i,t,e,n),r){let s=Vh(n,e),a=t[re],c=a.parentNode(e[Pn]);c!==null&&iA(i,e[st],a,t,c,s)}let o=t[rs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Uh(e,t){if(e.length<=$e)return;let n=$e+t,r=e[n];if(r){let i=r[br];i!==null&&i!==e&&cp(i,r),t>0&&(e[n-1][ot]=r[ot]);let o=es(e,$e+t);rA(r[M],r);let s=o[Sr];s!==null&&s.detachView(o[M]),r[Te]=null,r[ot]=null,r[R]&=-129}return r}function qA(e,t,n,r){let i=$e+r,o=n.length;r>0&&(n[i-1][ot]=t),r<o-$e?(t[ot]=n[i],Hf(n,$e+r,t)):(n.push(t),t[ot]=null),t[Te]=n;let s=t[br];s!==null&&n!==s&&iC(s,t);let a=t[Sr];a!==null&&a.insertView(e),Bc(t),t[R]|=128}function iC(e,t){let n=e[as],r=t[Te];if(jt(r))e[R]|=2;else{let i=r[Te][at];t[at]!==i&&(e[R]|=2)}n===null?e[as]=[t]:n.push(t)}var jn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return ps(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Re]}set context(t){this._lView[Re]=t}get destroyed(){return Nr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Te];if(yt(t)){let n=t[ss],r=n?n.indexOf(this):-1;r>-1&&(Uh(t,r),es(n,r))}this._attachedToViewContainer=!1}WE(this._lView[M],this._lView)}onDestroy(t){nh(this._lView,t)}markForCheck(){vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){Bc(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,mp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[wr].get(kA,jy)}catch{this.exhaustive=jy}}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Vi(this._lView),n=this._lView[br];n!==null&&!t&&cp(n,this._lView),$E(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=Vi(this._lView),r=this._lView[br];r!==null&&!n&&iC(r,this._lView),Bc(this._lView)}};var ys=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=YA;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=OA(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new jn(o)}}return e})();function YA(){return oC(Ie(),G())}function oC(e,t){return e.type&4?new ys(t,e,yl(e,t)):null}function Al(e,t,n,r,i){let o=e.data[t];if(o===null)o=KA(e,t,n,r,i),gy()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ly();o.injectorIndex=s===null?-1:s.injectorIndex}return Ui(o,!0),o}function KA(e,t,n,r,i){let o=sh(),s=ah(),a=s?o:o&&o.parent,c=e.data[t]=QA(e,a,n,t,r,i);return ZA(e,c,o,s),c}function ZA(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function QA(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return cy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Gz=new RegExp(`^(\\d+)*(${b0}|${D0})*(.*)`);var JA=()=>null;function Uy(e,t){return JA(e,t)}var sC=class{},Nl=class{},Bh=class{resolveComponentFactory(t){throw new I(917,!1)}},Es=class{static NULL=new Bh},kr=class{},$n=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>XA()}return e})();function XA(){let e=G(),t=Ie(),n=lt(t.index,e);return(jt(n)?n:e)[re]}var aC=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>null})}return e})();var tl={},Hh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,tl,r);return i!==tl||n===tl?i:this.parentInjector.get(t,n,r)}};function ll(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Mf(i,a);else if(o==2){let c=a,l=t[++s];r=Mf(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function W(e,t=0){let n=G();if(n===null)return T(e,t);let r=Ie();return _E(r,n,be(e),t)}function _p(){let e="invalid";throw new Error(e)}function cC(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}nN(e,t,n,a,o,c,l)}o!==null&&r!==null&&eN(n,r,o)}function eN(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new I(-301,!1);r.push(t[i],o)}}function tN(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function nN(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&Ut(h)&&(c=!0,tN(e,n,f)),Oh(ol(n,t),e,h.type)}cN(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=BE(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=zi(n.mergedAttrs,h.hostAttrs),iN(e,n,t,d,h),aN(d,h,i),s!==null&&s.has(h)){let[y,D]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,D+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}rN(e,n,o)}function rN(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))By(0,t,i,r),By(1,t,i,r),$y(t,r,!1);else{let o=n.get(i);Hy(0,t,o,r),Hy(1,t,o,r),$y(t,r,!0)}}}function By(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),lC(t,o)}}function Hy(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),lC(t,s)}}function lC(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function $y(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||rp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function iN(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=_r(i.type,!0)),s=new Or(o,Ut(i),W);e.blueprint[r]=s,n[r]=s,oN(e,t,r,BE(e,n,i.hostVars,ut),i)}function oN(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;sN(s)!=a&&s.push(a),s.push(n,r,o)}}function sN(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function aN(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ut(t)&&(n[""]=e)}}function cN(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function yp(e,t,n,r,i,o,s,a){let c=t[M],l=c.consts,u=Rr(l,s),d=Al(c,e,n,r,u);return o&&cC(c,t,d,Rr(l,a),i),d.mergedAttrs=zi(d.mergedAttrs,d.attrs),d.attrs!==null&&ll(d,d.attrs,!1),d.mergedAttrs!==null&&ll(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Ep(e,t){lE(e,t),Jf(t)&&e.queries.elementEnd(t)}function lN(e,t,n,r,i,o){let s=t.consts,a=Rr(s,i),c=Al(t,e,n,r,a);if(c.mergedAttrs=zi(c.mergedAttrs,c.attrs),o!=null){let l=Rr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&ll(c,c.attrs,!1),c.mergedAttrs!==null&&ll(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Cp(e){return dC(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function uC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function dC(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function uN(e,t,n){return e[t]=n}function dN(e,t){return e[t]}function Un(e,t,n){if(n===ut)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function fN(e,t,n,r){let i=Un(e,t,n);return Un(e,t+1,r)||i}function Dh(e,t,n){return function r(i){let o=Fn(e)?lt(e.index,t):t;vp(o,5);let s=t[Re],a=Wy(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Wy(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Wy(e,t,n,r){let i=F(null);try{return Z(6,t,n),n(r)!==!1}catch(o){return AA(e,o),!1}finally{Z(7,t,n),F(i)}}function hN(e,t,n,r,i,o,s,a){let c=Li(e),l=!1,u=null;if(!r&&c&&(u=pN(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Et(e,n),f=r?r(d):d;S0(n,f,o,a);let h=i.listen(f,o,a),p=r?y=>r(ct(y[e.index])):e.index;fC(p,t,n,o,a,h,!1)}return l}function pN(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Pi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function fC(e,t,n,r,i,o,s){let a=t.firstCreatePass?oy(t):null,c=iy(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function zy(e,t,n,r,i,o){let s=t[n],a=t[M],l=a.data[n].outputs[r],d=s[l].subscribe(o);fC(e.index,a,t,i,o,d,!0)}var $h=Symbol("BINDING");var ul=class extends Es{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=pn(t);return new xr(n,this.ngModule)}};function gN(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Dl.SignalBased)!==0};return i&&(o.transform=i),o})}function mN(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function vN(e,t,n){let r=t instanceof ce?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Hh(n,r):n}function _N(e){let t=e.get(kr,null);if(t===null)throw new I(407,!1);let n=e.get(aC,null),r=e.get(hn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function yN(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return LE(t,n,n==="svg"?J_:n==="math"?X_:null)}var xr=class extends Nl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mN(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=z0(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Z(22);let a=F(null);try{let c=this.componentDef,l=EN(r,c,s,o),u=vN(c,i||this.ngModule,t),d=_N(u),f=d.rendererFactory.createRenderer(null,c),h=r?mA(f,r,c.encapsulation,u):yN(c,f),p=s?.some(Gy)||o?.some(S=>typeof S!="function"&&S.bindings.some(Gy)),y=op(null,l,null,512|UE(c),null,null,d,f,u,null,NE(h,u,!0));y[Me]=h,Wc(y);let D=null;try{let S=yp(Me,y,2,"#host",()=>l.directiveRegistry,!0,0);h&&(jE(f,h,S),Gi(h,y)),Tl(l,y,S),ep(l,S,y),Ep(l,S),n!==void 0&&IN(S,this.ngContentSelectors,n),D=lt(S.index,y),y[Re]=D[Re],gp(l,y,null)}catch(S){throw D!==null&&xh(D),xh(y),S}finally{Z(23),zc()}return new dl(this.componentType,y,!!p)}finally{F(a)}}};function EN(e,t,n,r){let i=e?["ng-version","20.1.0"]:G0(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[$h].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[$h].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=Gf(d);c.push(f)}return ip(0,null,CN(o,s),1,a,c,null,null,null,[i],null)}function CN(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Gy(e){let t=e[$h].kind;return t==="input"||t==="twoWay"}var dl=class extends sC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=jc(n[M],Me),this.location=yl(this._tNode,n),this.instance=lt(this._tNode.index,n)[Re],this.hostView=this.changeDetectorRef=new jn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=pp(r,i[M],i,t,n);this.previousInputValues.set(t,n);let s=lt(r.index,i);vp(s,1)}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function IN(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Lr=(()=>{class e{static __NG_ELEMENT_ID__=wN}return e})();function wN(){let e=Ie();return bN(e,G())}var DN=Lr,hC=class extends DN{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Zh(this._hostTNode,this._hostLView);if(fE(t)){let n=il(t,this._hostLView),r=rl(t),i=n[M].data[r+8];return new Mr(i,n)}else return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=qy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uy(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Vy(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!XS(t),l;if(c)l=n;else{let D=n||{};l=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let u=c?t:new xr(pn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let S=(c?d:this.parentInjector).get(ce,null);S&&(o=S)}let f=pn(u.componentType??{}),h=Uy(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Vy(this._hostTNode,h)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(ty(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Te],l=new hC(c,c[st],c[Te]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return GA(s,i,o,r),t.attachToViewContainerRef(),Hf(bh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=qy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Uh(this._lContainer,n);r&&(es(bh(this._lContainer),n),WE(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=Uh(this._lContainer,n);return r&&es(bh(this._lContainer),n)!=null?new jn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function qy(e){return e[ss]}function bh(e){return e[ss]||(e[ss]=[])}function bN(e,t){let n,r=t[e.index];return yt(r)?n=r:(n=rC(r,t,null,e),t[e.index]=n,sp(t,n)),SN(n,t,e,r),new hC(n,e,t)}function TN(e,t){let n=e[re],r=n.createComment(""),i=Et(t,e),o=n.parentNode(i);return cl(n,o,r,n.nextSibling(i),!1),r}var SN=RN,AN=()=>!1;function NN(e,t,n){return AN(e,t,n)}function RN(e,t,n,r){if(e[Pn])return;let i;n.type&8?i=ct(r):i=TN(t,n),e[Pn]=i}var Yy=new Set;function Qi(e){Yy.has(e)||(Yy.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Pr=class{},Rl=class{};var fl=class extends Pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ul(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=zf(t);this._bootstrapComponents=PE(o.bootstrap),this._r3Injector=gh(t,n,[{provide:Pr,useValue:this},{provide:Es,useValue:this.componentFactoryResolver},...r],He(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},hl=class extends Rl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new fl(this.moduleType,t,[])}};var gs=class extends Pr{injector;componentFactoryResolver=new ul(this);instance=null;constructor(t){super();let n=new Er([...t.providers,{provide:Pr,useValue:this},{provide:Es,useValue:this.componentFactoryResolver}],t.parent||ns(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ji(e,t,n=null){return new gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var MN=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qf(!1,n.type),i=r.length>0?Ji([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(T(ce))})}return e})();function xe(e){return Yi(()=>{let t=pC(e),n=k(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(MN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yn.Emulated,styles:e.styles||et,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Qi("NgStandalone"),gC(n);let r=e.dependencies;return n.directiveDefs=Ky(r,ON),n.pipeDefs=Ky(r,z_),n.id=PN(n),n})}function ON(e){return pn(e)||Gf(e)}function Wt(e){return Yi(()=>({type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kN(e,t){if(e==null)return kn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Dl.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function xN(e){if(e==null)return kn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ge(e){return Yi(()=>{let t=pC(e);return gC(t),t})}function pC(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||kn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kN(e.inputs,t),outputs:xN(e.outputs),debugInfo:null}}function gC(e){e.features?.forEach(t=>t(e))}function Ky(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function PN(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function FN(e){return Object.getPrototypeOf(e.prototype).constructor}function Vr(e){let t=FN(e.type),n=!0,r=[e];for(;t;){let i;if(Ut(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Th(e.inputs),s.declaredInputs=Th(e.declaredInputs),s.outputs=Th(e.outputs);let a=i.hostBindings;a&&BN(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&jN(e,c),l&&UN(e,l),LN(e,i),j_(e.outputs,i.outputs),Ut(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Vr&&(n=!1)}}t=Object.getPrototypeOf(t)}VN(r)}function LN(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function VN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=zi(i.hostAttrs,n=zi(n,i.hostAttrs))}}function Th(e){return e===kn?{}:e===et?[]:e}function jN(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function UN(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function BN(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function HN(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=zi(e.mergedAttrs,e.attrs);let u=e.tView=ip(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Ui(e,!1);let c=WN(n,t,e,r);qc()&&lp(n,t,c,e),Gi(c,t);let l=rC(c,t,c,e);t[r+Me]=l,sp(t,l),NN(l,e,t)}function $N(e,t,n,r,i,o,s,a,c,l,u){let d=n+Me,f;return t.firstCreatePass?(f=Al(t,d,4,s||null,a||null),Hc()&&cC(t,e,f,Rr(t.consts,l),dp),lE(t,f)):f=t.data[d],HN(f,e,t,n,r,i,o,c),Li(f)&&Tl(t,e,f),l!=null&&Sl(e,f,u),f}function Dt(e,t,n,r,i,o,s,a){let c=G(),l=We(),u=Rr(l.consts,o);return $N(c,l,e,t,n,r,i,u,void 0,s,a),Dt}var WN=zN;function zN(e,t,n,r){return us(!0),t[re].createComment("")}var Ml=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ml||{}),jr=new C(""),mC=!1,Wh=class extends ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Z_()&&(this.destroyRef=g(mn,{optional:!0})??void 0,this.pendingTasks=g(_n,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof oe&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_e=Wh;function vC(e){let t,n;function r(){e=ds;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Zy(e){return queueMicrotask(()=>e()),()=>{e=ds}}var Ip="isAngularZone",pl=Ip+"_ID",GN=0,X=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mC}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ip)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,qN,ds,ds);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},qN={};function wp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function YN(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){vC(()=>{e.callbackScheduled=!1,zh(e),e.isCheckStableRunning=!0,wp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zh(e)}function KN(e){let t=()=>{YN(e)},n=GN++;e._inner=e._inner.fork({name:"angular",properties:{[Ip]:!0,[pl]:n,[pl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(ZN(c))return r.invokeTask(o,s,a,c);try{return Qy(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Jy(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Qy(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!QN(c)&&t(),Jy(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,zh(e),wp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function zh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Qy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jy(e){e._nesting--,wp(e)}var gl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function ZN(e){return _C(e,"__ignore_ng_zone__")}function QN(e){return _C(e,"__scheduler_tick__")}function _C(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Dp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})(),yC=[0,1,2,3],EC=(()=>{class e{ngZone=g(X);scheduler=g(hn);errorHandler=g(mt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(jr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of yC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[Ar]??=[]).push(n),ji(r),r[R]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ml.AFTER_NEXT_RENDER,n):n()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})(),ml=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ar];t&&(this.view[Ar]=t.filter(n=>n!==this))}};function Ol(e,t){let n=t?.injector??g(fe);return Qi("NgAfterNextRender"),XN(e,n,t,!0)}function JN(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function XN(e,t,n,r){let i=t.get(Dp);i.impl??=t.get(EC);let o=t.get(jr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(mn):null,a=t.get(Kc,null,{optional:!0}),c=new ml(i.impl,JN(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var bp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Tp=new C("");function Wn(e){return!!e&&typeof e.then=="function"}function Sp(e){return!!e&&typeof e.subscribe=="function"}var Ap=new C("");function kl(e){return gn([{provide:Ap,multi:!0,useValue:e}])}var Np=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(Ap,{optional:!0})??[];injector=g(fe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=he(this.injector,i);if(Wn(o))n.push(o);else if(Sp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cs=new C("");function CC(){Qd(()=>{let e="";throw new I(600,e)})}function IC(e){return e.isBoundToModule}var eR=10;var zn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(ze);afterRenderManager=g(Dp);zonelessEnabled=g(Yc);rootEffectScheduler=g(Eh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(_n);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){g(jr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fe.NULL){return this._injector.get(X).run(()=>{Z(10);let s=n instanceof Nl;if(!this._injector.get(Np).done){let p="";throw new I(405,p)}let c;s?c=n:c=this._injector.get(Es).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=IC(c)?void 0:this._injector.get(Pr),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Tp,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),hs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ml.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(kr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<eR;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!cs(i))continue;let o=r&&!this.zonelessEnabled?0:1;mp(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>cs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;hs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Cs,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Is(e,t,n,r){let i=G(),o=Bi();if(Un(i,o,t)){let s=We(),a=Gc();bA(a,i,e,t,n,r)}return Is}function Oe(e,t,n){let r=G(),i=Bi();if(Un(r,i,t)){let o=We(),s=Gc();qE(s,r,e,t,r[re],n)}return Oe}function Xy(e,t,n,r,i){pp(t,e,n,i?"class":"style",r)}function w(e,t,n,r){let i=G(),o=i[M],s=e+Me,a=o.firstCreatePass?yp(s,i,2,t,dp,Hc(),n,r):o.data[s];if(fp(a,i,e,t,wC),Li(a)){let c=i[M];Tl(c,i,a),ep(c,a,i)}return r!=null&&Sl(i,a),w}function b(){let e=We(),t=Ie(),n=hp(t);return e.firstCreatePass&&Ep(e,n),ih(n)&&oh(),rh(),n.classesWithoutHost!=null&&o0(n)&&Xy(e,n,G(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&s0(n)&&Xy(e,n,G(),n.stylesWithoutHost,!1),b}function qe(e,t,n,r){return w(e,t,n,r),b(),qe}function xl(e,t,n,r){let i=G(),o=i[M],s=e+Me,a=o.firstCreatePass?lN(s,o,2,t,n,r):o.data[s];return fp(a,i,e,t,wC),r!=null&&Sl(i,a),xl}function Pl(){let e=Ie(),t=hp(e);return ih(t)&&oh(),rh(),Pl}var wC=(e,t,n,r,i)=>(us(!0),LE(t[re],r,wy()));function Fl(e,t,n){let r=G(),i=r[M],o=e+Me,s=i.firstCreatePass?yp(o,r,8,"ng-container",dp,Hc(),t,n):i.data[o];if(fp(s,r,e,"ng-container",tR),Li(s)){let a=r[M];Tl(a,r,s),ep(a,s,r)}return n!=null&&Sl(r,s),Fl}function Ll(){let e=We(),t=Ie(),n=hp(t);return e.firstCreatePass&&Ep(e,n),Ll}var tR=(e,t,n,r,i)=>(us(!0),K0(t[re],""));function Gn(){return G()}var ws="en-US";var nR=ws;function DC(e){typeof e=="string"&&(nR=e.toLowerCase().replace(/_/g,"-"))}function ge(e,t,n){let r=G(),i=We(),o=Ie();return bC(i,r,r[re],o,e,t,n),ge}function bC(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Dh(r,t,o),hN(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Dh(r,t,o),zy(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Dh(r,t,o),zy(r,t,d,i,i,c)}}function dt(e=1){return Iy(e)}function Rp(e){let t=dy();return ey(t,Me+e)}function Jc(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function rR(e){return(e&2)==2}function iR(e,t){return e&131071|t<<17}function Gh(e){return e|2}function qi(e){return(e&131068)>>2}function Sh(e,t){return e&-131069|t<<2}function oR(e){return(e&1)===1}function qh(e){return e|1}function sR(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Fr(s),c=qi(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||xi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Fr(e[a+1]);e[r+1]=Jc(f,a),f!==0&&(e[f+1]=Sh(e[f+1],r)),e[a+1]=iR(e[a+1],r)}else e[r+1]=Jc(a,0),a!==0&&(e[a+1]=Sh(e[a+1],r)),a=r;else e[r+1]=Jc(c,0),a===0?a=r:e[c+1]=Sh(e[c+1],r),c=r;l&&(e[r+1]=Gh(e[r+1])),eE(e,u,r,!0),eE(e,u,r,!1),aR(t,u,e,r,o),s=Jc(a,c),o?t.classBindings=s:t.styleBindings=s}function aR(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&xi(o,t)>=0&&(n[r+1]=qh(n[r+1]))}function eE(e,t,n,r){let i=e[n+1],o=t===null,s=r?Fr(i):qi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];cR(c,t)&&(a=!0,e[s+1]=r?qh(l):Gh(l)),s=r?Fr(l):qi(l)}a&&(e[n+1]=r?Gh(i):qh(i))}function cR(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?xi(e,t)>=0:!1}function Vl(e,t){return lR(e,t,null,!0),Vl}function lR(e,t,n,r){let i=G(),o=We(),s=dh(2);if(o.firstUpdatePass&&dR(o,e,s,r),t!==ut&&Un(i,s,t)){let a=o.data[Ln()];mR(o,a,i,i[re],e,i[s+1]=vR(t,n),r,s)}}function uR(e,t){return t>=e.expandoStartIndex}function dR(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ln()],s=uR(e,n);_R(o,r)&&t===null&&!s&&(t=!1),t=fR(i,o,t,r),sR(i,o,t,n,s,r)}}function fR(e,t,n,r){let i=_y(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ah(null,e,t,n,r),n=ms(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Ah(i,e,t,n,r),o===null){let c=hR(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Ah(null,e,t,c[1],r),c=ms(c,t.attrs,r),pR(e,t,r,c))}else o=gR(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function hR(e,t,n){let r=n?t.classBindings:t.styleBindings;if(qi(r)!==0)return e[Fr(r)]}function pR(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Fr(i)]=r}function gR(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ms(r,s,n)}return ms(r,t.attrs,n)}function Ah(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=ms(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ms(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),W_(e,s,n?!0:t[++o]))}return e===void 0?null:e}function mR(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=oR(l)?tE(c,t,n,i,qi(l),s):void 0;if(!vl(u)){vl(o)||rR(l)&&(o=tE(c,null,n,i,a,s));let d=Xf(Ln(),n);gA(r,s,d,i,o)}}function tE(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===ut&&(f=d?et:void 0);let h=d?Lc(f,r):u===r?f:void 0;if(l&&!vl(h)&&(h=Lc(c,r)),vl(h)&&(a=h,s))return a;let p=e[i+1];i=s?Fr(p):qi(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Lc(c,r))}return a}function vl(e){return e!==void 0}function vR(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=He(_s(e)))),e}function _R(e,t){return(e.flags&(t?8:16))!==0}function N(e,t=""){let n=G(),r=We(),i=e+Me,o=r.firstCreatePass?Al(r,i,1,t,null):r.data[i],s=yR(r,n,o,t,e);n[i]=s,qc()&&lp(r,n,s,o),Ui(o,!1)}var yR=(e,t,n,r,i)=>(us(!0),q0(t[re],r));function ER(e,t,n,r=""){return Un(e,Bi(),n)?t+On(n)+r:ut}function CR(e,t,n,r,i,o=""){let s=hy(),a=fN(e,s,n,i);return dh(2),a?t+On(n)+r+On(i)+o:ut}function qn(e){return Yn("",e),qn}function Yn(e,t,n){let r=G(),i=ER(r,e,t,n);return i!==ut&&TC(r,Ln(),i),Yn}function jl(e,t,n,r,i){let o=G(),s=CR(o,e,t,n,r,i);return s!==ut&&TC(o,Ln(),s),jl}function TC(e,t,n){let r=Xf(t,e);Y0(e[re],r,n)}function Ul(e,t,n){vh(t)&&(t=t());let r=G(),i=Bi();if(Un(r,i,t)){let o=We(),s=Gc();qE(s,r,e,t,r[re],n)}return Ul}function Mp(e,t){let n=vh(e);return n&&e.set(t),n}function Bl(e,t){let n=G(),r=We(),i=Ie();return bC(r,n,n[re],i,e,t),Bl}function Ds(e){return Un(G(),Bi(),e)?On(e):ut}function IR(e,t,n){let r=We();if(r.firstCreatePass){let i=Ut(e);Yh(n,r.data,r.blueprint,i,!0),Yh(t,r.data,r.blueprint,i,!1)}}function Yh(e,t,n,r,i){if(e=be(e),Array.isArray(e))for(let o=0;o<e.length;o++)Yh(e[o],t,n,r,i);else{let o=We(),s=G(),a=Ie(),c=yr(e)?e:be(e.provide),l=Kf(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(yr(e)||!e.multi){let h=new Or(l,i,W),p=Rh(c,t,i?u:u+f,d);p===-1?(Oh(ol(a,s),o,c),Nh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Rh(c,t,u+f,d),p=Rh(c,t,u,u+f),y=h>=0&&n[h],D=p>=0&&n[p];if(i&&!D||!i&&!y){Oh(ol(a,s),o,c);let S=bR(i?DR:wR,n.length,i,r,l);!i&&D&&(n[p].providerFactory=S),Nh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=SC(n[i?p:h],l,!i&&r);Nh(o,e,h>-1?h:p,S)}!i&&r&&D&&n[p].componentProviders++}}}function Nh(e,t,n,r){let i=yr(t),o=K_(t);if(i||o){let c=(o?be(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function SC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Rh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function wR(e,t,n,r,i){return Kh(this.multi,[])}function DR(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=sl(r,r[M],this.providerFactory.index,i);s=c.slice(0,a),Kh(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Kh(o,s);return s}function Kh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function bR(e,t,n,r,i){let o=new Or(e,n,W);return o.multi=[],o.index=t,o.componentProviders=0,SC(o,i,r&&!n),o}function Hl(e,t=[]){return n=>{n.providersResolver=(r,i)=>IR(r,i?i(e):e,t)}}function $l(e,t,n){let r=fy()+e,i=G();return i[r]===ut?uN(i,r,n?t.call(n):t()):dN(i,r)}function Op(e,t){return oC(e,t)}var _l=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},kp=(()=>{class e{compileModuleSync(n){return new hl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=zf(n),o=PE(i.declarations).reduce((s,a)=>{let c=pn(a);return c&&s.push(new xr(c)),s},[]);return new _l(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var TR=(()=>{class e{zone=g(X);changeDetectionScheduler=g(hn);applicationRef=g(zn);applicationErrorHandler=g(ze);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AC({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new X(k(v({},NC()),{scheduleInRootZone:n})),[{provide:X,useFactory:e},{provide:xn,multi:!0,useFactory:()=>{let r=g(TR,{optional:!0});return()=>r.initialize()}},{provide:xn,multi:!0,useFactory:()=>{let r=g(SR);return()=>{r.initialize()}}},t===!0?{provide:_h,useValue:!0}:[],{provide:yh,useValue:n??mC},{provide:ze,useFactory:()=>{let r=g(X),i=g(ce),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(mt),o.handleError(s))})}}}]}function NC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var SR=(()=>{class e{subscription=new oe;initialized=!1;zone=g(X);pendingTasks=g(_n);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{X.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var RC=(()=>{class e{applicationErrorHandler=g(ze);appRef=g(zn);taskService=g(_n);ngZone=g(X);zonelessEnabled=g(Yc);tracing=g(jr,{optional:!0});disableScheduling=g(_h,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(yh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Zy:vC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AR(){return typeof $localize<"u"&&$localize.locale||ws}var Wl=new C("",{providedIn:"root",factory:()=>g(Wl,{optional:!0,skipSelf:!0})||AR()});function bt(e){return P_(e)}function bs(e,t){return rc(e,t?.equal)}var MC=class{[Ne];constructor(t){this[Ne]=t}destroy(){this[Ne].destroy()}};var FC=Symbol("InputSignalNode#UNSET"),GR=k(v({},ic),{transformFn:void 0,applyValueToInputSignal(e,t){vi(e,t)}});function LC(e,t){let n=Object.create(GR);n.value=e,n.transformFn=t?.transform;function r(){if(gi(n),n.value===FC){let i=null;throw new I(-950,i)}return n.value}return r[Ne]=n,r}var Gl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>vs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},qR=new C("");qR.__NG_ELEMENT_ID__=e=>{let t=Ie();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new I(204,!1)};function OC(e,t){return LC(e,t)}function YR(e){return LC(FC,e)}var VC=(OC.required=YR,OC);var Ur=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},jC=new Ur("20.1.0");var xp=new C(""),KR=new C("");function Ts(e){return!e.moduleRef}function ZR(e){let t=Ts(e)?e.r3Injector:e.moduleRef.injector,n=t.get(X);return n.run(()=>{Ts(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ze),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ts(e)){let o=()=>t.destroy(),s=e.platformInjector.get(xp);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(xp);s.add(o),e.moduleRef.onDestroy(()=>{hs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return JR(r,n,()=>{let o=t.get(Np);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Wl,ws);if(DC(s||ws),!t.get(KR,!0))return Ts(e)?t.get(zn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ts(e)){let c=t.get(zn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return QR?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var QR;function JR(e,t,n){try{let r=n();return Wn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var zl=null;function XR(e=[],t){return fe.create({name:t,providers:[{provide:ts,useValue:"platform"},{provide:xp,useValue:new Set([()=>zl=null])},...e]})}function eM(e=[]){if(zl)return zl;let t=XR(e);return zl=t,CC(),tM(t),t}function tM(e){let t=e.get(Cl,null);he(e,()=>{t?.forEach(n=>n())})}function jp(){return!1}var Br=(()=>{class e{static __NG_ELEMENT_ID__=nM}return e})();function nM(e){return rM(Ie(),G(),(e&16)===16)}function rM(e,t,n){if(Fn(e)&&!n){let r=lt(e.index,t);return new jn(r,r)}else if(e.type&175){let r=t[at];return new jn(r,t)}return null}var Pp=class{constructor(){}supports(t){return Cp(t)}create(t){return new Fp(t)}},iM=(e,t)=>t,Fp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||iM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<kC(r,i,o)?n:r,a=kC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Cp(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,uC(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Lp(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Lp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Vp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ql=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Vp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kC(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function xC(){return new Up([new Pp])}var Up=(()=>{class e{factories;static \u0275prov=E({token:e,providedIn:"root",factory:xC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||xC()),deps:[[e,new iE,new $t]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new I(901,!1)}}return e})();function UC(e){Z(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=eM(r),o=[AC({}),{provide:hn,useExisting:RC},by,...n||[]],s=new gs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ZR({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Z(9)}}function Hr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function BC(e){let t=pn(e);if(!t)return null;let n=new xr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var WC=null;function ft(){return WC}function Bp(e){WC??=e}var Ss=class{},As=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(zC),providedIn:"platform"})}return e})(),Hp=new C(""),zC=(()=>{class e extends As{_location;_history;_doc=g(pe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ft().getBaseHref(this._doc)}onPopState(n){let r=ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Yl(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function HC(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Tt(e){return e&&e[0]!=="?"?`?${e}`:e}var St=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(Zl),providedIn:"root"})}return e})(),Kl=new C(""),Zl=(()=>{class e extends St{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(As),T(Kl,8))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kn=(()=>{class e{_subject=new ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=aM(HC($C(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tt(r))}normalize(n){return e.stripTrailingSlash(sM(this._basePath,$C(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tt;static joinWithSlash=Yl;static stripTrailingSlash=HC;static \u0275fac=function(r){return new(r||e)(T(St))};static \u0275prov=E({token:e,factory:()=>oM(),providedIn:"root"})}return e})();function oM(){return new Kn(T(St))}function sM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function $C(e){return e.replace(/\/index.html$/,"")}function aM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var $p=(()=>{class e extends St{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Yl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(As),T(Kl,8))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var Ql=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},eo=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ql(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),GC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);GC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Lr),W(ys),W(Up))};static \u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function GC(e,t){e.context.$implicit=t.item}var Ns=(()=>{class e{_viewContainer;_context=new Jl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qC(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qC(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Lr),W(ys))};static \u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Jl=class{$implicit=null;ngIf=null};function qC(e,t){if(e&&!e.createEmbeddedView)throw new I(2020,!1)}var zt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=vt({})}return e})();function Wp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Rs=class{};var YC="browser";var KC=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>new zp(g(pe),window)})}return e})(),zp=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(k(v({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=cM(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(ki(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(k(v({},n),{left:i-s[0],top:o-s[1]}))}};function cM(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var eu=new C(""),Qp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(T(eu),T(X))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Ms=class{_doc;constructor(t){this._doc=t}manager},qp="ng-app-id";function ZC(e){for(let t of e)t.remove()}function QC(e,t){let n=t.createElement("style");return n.textContent=e,n}function lM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${qp}="${t}"],link[${qp}="${t}"]`);if(i)for(let o of i)o.removeAttribute(qp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Kp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Jp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,lM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,QC);r?.forEach(i=>this.addUsage(i,this.external,Kp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ZC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ZC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,QC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Kp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(T(pe),T(El),T(Il,8),T(Hn))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xp=/%COMP%/g;var XC="%COMP%",uM=`_nghost-${XC}`,dM=`_ngcontent-${XC}`,fM=!0,hM=new C("",{providedIn:"root",factory:()=>fM});function pM(e){return dM.replace(Xp,e)}function gM(e){return uM.replace(Xp,e)}function eI(e,t){return t.map(n=>n.replace(Xp,e))}var eg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Os(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Xl?i.applyToHost(n):i instanceof ks&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case yn.Emulated:o=new Xl(c,l,r,this.appId,u,s,a,d,f);break;case yn.ShadowDom:return new Zp(c,l,n,r,s,a,this.nonce,d,f);default:o=new ks(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(T(Qp),T(Jp),T(El),T(hM),T(pe),T(Hn),T(X),T(Il),T(jr,8))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Os=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Yp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(JC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(JC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Yp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Yp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ht.DashCase|Ht.Important)?t.style.setProperty(n,r,i&Ht.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ht.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=ft().getGlobalEventTarget(this.doc,t),!t))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function JC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Zp=class extends Os{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=eI(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Kp(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ks=class extends Os{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?eI(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xl=class extends ks{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=pM(u),this.hostAttr=gM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var tu=class e extends Ss{supportsDOMEvents=!0;static makeCurrent(){Bp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=mM();return n==null?null:vM(n)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wp(document.cookie,t)}},xs=null;function mM(){return xs=xs||document.head.querySelector("base"),xs?xs.getAttribute("href"):null}function vM(e){return new URL(e,document.baseURI).pathname}var _M=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),nI=(()=>{class e extends Ms{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(T(pe))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),tI=["alt","control","meta","shift"],yM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},rI=(()=>{class e extends Ms{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ft().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=yM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tI.forEach(s=>{if(s!==i){let a=EM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(T(pe))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();function tg(e,t){return UC(v({rootComponent:e},CM(t)))}function CM(e){return{appProviders:[...TM,...e?.providers??[]],platformProviders:bM}}function IM(){tu.makeCurrent()}function wM(){return new mt}function DM(){return Jh(document),document}var bM=[{provide:Hn,useValue:YC},{provide:Cl,useValue:IM,multi:!0},{provide:pe,useFactory:DM}];var TM=[{provide:ts,useValue:"root"},{provide:mt,useFactory:wM},{provide:eu,useClass:nI,multi:!0,deps:[pe]},{provide:eu,useClass:rI,multi:!0,deps:[pe]},eg,Jp,Qp,{provide:kr,useExisting:eg},{provide:Rs,useClass:_M},[]];var iI=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(T(pe))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var x="primary",qs=Symbol("RouteTitle"),sg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zr(e){return new sg(e)}function fI(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function AM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Gt(e[n],t[n]))return!1;return!0}function Gt(e,t){let n=e?ag(e):void 0,r=t?ag(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hI(e[i],t[i]))return!1;return!0}function ag(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function pI(e){return e.length>0?e[e.length-1]:null}function Cn(e){return pf(e)?e:Wn(e)?te(Promise.resolve(e)):A(e)}var NM={exact:mI,subset:vI},gI={exact:RM,subset:MM,ignored:()=>!0};function oI(e,t,n){return NM[n.paths](e.root,t.root,n.matrixParams)&&gI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function RM(e,t){return Gt(e,t)}function mI(e,t,n){if(!$r(e.segments,t.segments)||!iu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!mI(e.children[r],t.children[r],n))return!1;return!0}function MM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>hI(e[n],t[n]))}function vI(e,t,n){return _I(e,t,t.segments,n)}function _I(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!$r(i,n)||t.hasChildren()||!iu(i,n,r))}else if(e.segments.length===n.length){if(!$r(e.segments,n)||!iu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!vI(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!$r(e.segments,i)||!iu(e.segments,i,r)||!e.children[x]?!1:_I(e.children[x],t,o,r)}}function iu(e,t,n){return t.every((r,i)=>gI[n](e[i].parameters,r.parameters))}var Yt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Y([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zr(this.queryParams),this._queryParamMap}toString(){return xM.serialize(this)}},Y=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ou(this)}},Zn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=zr(this.parameters),this._parameterMap}toString(){return EI(this)}};function OM(e,t){return $r(e,t)&&e.every((n,r)=>Gt(n.parameters,t[r].parameters))}function $r(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function kM(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===x&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==x&&(n=n.concat(t(i,r)))}),n}var Gr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>new Qn,providedIn:"root"})}return e})(),Qn=class{parse(t){let n=new lg(t);return new Yt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ps(t.root,!0)}`,r=LM(t.queryParams),i=typeof t.fragment=="string"?`#${PM(t.fragment)}`:"";return`${n}${r}${i}`}},xM=new Qn;function ou(e){return e.segments.map(t=>EI(t)).join("/")}function Ps(e,t){if(!e.hasChildren())return ou(e);if(t){let n=e.children[x]?Ps(e.children[x],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==x&&r.push(`${i}:${Ps(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kM(e,(r,i)=>i===x?[Ps(e.children[x],!1)]:[`${i}:${Ps(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[x]!=null?`${ou(e)}/${n[0]}`:`${ou(e)}/(${n.join("//")})`}}function yI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(e){return yI(e).replace(/%3B/gi,";")}function PM(e){return encodeURI(e)}function cg(e){return yI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function su(e){return decodeURIComponent(e)}function sI(e){return su(e.replace(/\+/g,"%20"))}function EI(e){return`${cg(e.path)}${FM(e.parameters)}`}function FM(e){return Object.entries(e).map(([t,n])=>`;${cg(t)}=${cg(n)}`).join("")}function LM(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nu(n)}=${nu(i)}`).join("&"):`${nu(n)}=${nu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var VM=/^[^\/()?;#]+/;function ng(e){let t=e.match(VM);return t?t[0]:""}var jM=/^[^\/()?;=#]+/;function UM(e){let t=e.match(jM);return t?t[0]:""}var BM=/^[^=?&#]+/;function HM(e){let t=e.match(BM);return t?t[0]:""}var $M=/^[^&#]+/;function WM(e){let t=e.match($M);return t?t[0]:""}var lg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[x]=new Y(t,n)),r}parseSegment(){let t=ng(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new Zn(su(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=UM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ng(this.remaining);i&&(r=i,this.capture(r))}t[su(n)]=su(r)}parseQueryParam(t){let n=HM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=WM(this.remaining);s&&(r=s,this.capture(r))}let i=sI(n),o=sI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=x);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[x]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function CI(e){return e.segments.length>0?new Y([],{[x]:e}):e}function II(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=II(i);if(r===x&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Y(e.segments,t);return zM(n)}function zM(e){if(e.numberOfChildren===1&&e.children[x]){let t=e.children[x];return new Y(e.segments.concat(t.segments),t.children)}return e}function Jn(e){return e instanceof Yt}function wI(e,t,n=null,r=null){let i=DI(e);return bI(i,t,n,r)}function DI(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=CI(r);return t??i}function bI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return rg(i,i,i,n,r);let o=GM(t);if(o.toRoot())return rg(i,i,new Y([],{}),n,r);let s=qM(o,i,e),a=s.processChildren?Ls(s.segmentGroup,s.index,o.commands):SI(s.segmentGroup,s.index,o.commands);return rg(i,s.segmentGroup,a,n,r)}function au(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function js(e){return typeof e=="object"&&e!=null&&e.outlets}function rg(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=TI(e,t,n);let a=CI(II(s));return new Yt(a,o,i)}function TI(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=TI(o,t,n)}),new Y(e.segments,r)}var cu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&au(r[0]))throw new I(4003,!1);let i=r.find(js);if(i&&i!==pI(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new cu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cu(n,t,r)}var ro=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function qM(e,t,n){if(e.isAbsolute)return new ro(t,!0,0);if(!n)return new ro(t,!1,NaN);if(n.parent===null)return new ro(n,!0,0);let r=au(e.commands[0])?0:1,i=n.segments.length-1+r;return YM(n,i,e.numberOfDoubleDots)}function YM(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new ro(r,!1,i-o)}function KM(e){return js(e[0])?e[0].outlets:{[x]:e}}function SI(e,t,n){if(e??=new Y([],{}),e.segments.length===0&&e.hasChildren())return Ls(e,t,n);let r=ZM(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Y(e.segments.slice(0,r.pathIndex),{});return o.children[x]=new Y(e.segments.slice(r.pathIndex),e.children),Ls(o,0,i)}else return r.match&&i.length===0?new Y(e.segments,{}):r.match&&!e.hasChildren()?ug(e,t,n):r.match?Ls(e,0,i):ug(e,t,n)}function Ls(e,t,n){if(n.length===0)return new Y(e.segments,{});{let r=KM(n),i={};if(Object.keys(r).some(o=>o!==x)&&e.children[x]&&e.numberOfChildren===1&&e.children[x].segments.length===0){let o=Ls(e.children[x],t,n);return new Y(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SI(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(e.segments,i)}}function ZM(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(js(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cI(c,l,s))return o;r+=2}else{if(!cI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ug(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(js(o)){let c=QM(o.outlets);return new Y(r,c)}if(i===0&&au(n[0])){let c=e.segments[t];r.push(new Zn(c.path,aI(n[0]))),i++;continue}let s=js(o)?o.outlets[x]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&au(a)?(r.push(new Zn(s,aI(a))),i+=2):(r.push(new Zn(s,{})),i++)}return new Y(r,{})}function QM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ug(new Y([],{}),0,r))}),t}function aI(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function cI(e,t,n){return e==n.path&&Gt(t,n.parameters)}var io="imperative",ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ye||{}),rt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Xn=class extends rt{type=ye.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ht=class extends rt{urlAfterRedirects;type=ye.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Pe||{}),so=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(so||{}),qt=class extends rt{reason;code;type=ye.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kt=class extends rt{reason;code;type=ye.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},ao=class extends rt{error;target;type=ye.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Us=class extends rt{urlAfterRedirects;state;type=ye.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends rt{urlAfterRedirects;state;type=ye.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class extends rt{urlAfterRedirects;state;shouldActivate;type=ye.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},du=class extends rt{urlAfterRedirects;state;type=ye.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fu=class extends rt{urlAfterRedirects;state;type=ye.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hu=class{route;type=ye.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pu=class{route;type=ye.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gu=class{snapshot;type=ye.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{snapshot;type=ye.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{snapshot;type=ye.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_u=class{snapshot;type=ye.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},co=class{routerEvent;position;anchor;type=ye.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Bs=class{},lo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function JM(e){return!(e instanceof Bs)&&!(e instanceof lo)}function XM(e,t){return e.providers&&!e._injector&&(e._injector=Ji(e.providers,t,`Route: ${e.path}`)),e._injector??t}function At(e){return e.outlet||x}function eO(e,t){let n=e.filter(r=>At(r)===t);return n.push(...e.filter(r=>At(r)!==t)),n}function ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ho(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new qr(this.rootInjector)}},qr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(T(ce))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Eu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=dg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=dg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=fg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return fg(t,this._root).map(n=>n.value)}};function dg(e,t){if(e===t.value)return t;for(let n of t.children){let r=dg(e,n);if(r)return r}return null}function fg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=fg(e,n);if(r.length)return r.unshift(t),r}return[]}var nt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function no(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Hs=class extends Eu{snapshot;constructor(t,n){super(t),this.snapshot=n,Eg(this,t)}toString(){return this.snapshot.toString()}};function AI(e){let t=tO(e),n=new De([new Zn("",{})]),r=new De({}),i=new De({}),o=new De({}),s=new De(""),a=new Zt(n,r,o,s,i,x,e,t.root);return a.snapshot=t.root,new Hs(new nt(a,[]),t)}function tO(e){let t={},n={},r={},i="",o=new Wr([],t,r,i,n,x,e,null,{});return new $s("",new nt(o,[]))}var Zt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[qs]))??A(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>zr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>zr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&RI(i)&&(r.resolve[qs]=i.title),r}var Wr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qs]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},$s=class extends Eu{url;constructor(t,n){super(n),this.url=t,Eg(this,n)}toString(){return NI(this._root)}};function Eg(e,t){t.value._routerState=e,t.children.forEach(n=>Eg(e,n))}function NI(e){let t=e.children.length>0?` { ${e.children.map(NI).join(", ")} } `:"";return`${e.value}${t}`}function ig(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Gt(t.params,n.params)||e.paramsSubject.next(n.params),AM(t.url,n.url)||e.urlSubject.next(n.url),Gt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function hg(e,t){let n=Gt(e.params,t.params)&&OM(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||hg(e.parent,t.parent))}function RI(e){return typeof e.title=="string"||e.title===null}var MI=new C(""),Ys=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=x;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=VC(void 0);parentContexts=g(qr);location=g(Lr);changeDetector=g(Br);inputBinder=g(Ks,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new pg(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bn]})}return e})(),pg=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Zt?this.route:t===qr?this.childContexts:t===MI?this.outletData:this.parent.get(t,n)}},Ks=new C(""),Cg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Go([r.queryParams,r.params,r.data]).pipe(Je(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?A(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=BC(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Ig=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=xe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&qe(0,"router-outlet")},dependencies:[Ys],encapsulation:2})}return e})();function wg(e){let t=e.children&&e.children.map(wg),n=t?k(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=Ig),n}function nO(e,t,n){let r=Ws(e,t._root,n?n._root:void 0);return new Hs(r,t)}function Ws(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=rO(e,t,n);return new nt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ws(e,a)),s}}let r=iO(t.value),i=t.children.map(o=>Ws(e,o));return new nt(r,i)}}function rO(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ws(e,r,i);return Ws(e,r)})}function iO(e){return new Zt(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}var uo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},OI="ngNavigationCancelingError";function Iu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Jn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=kI(!1,Pe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[OI]=!0,n.cancellationCode=t,n}function oO(e){return xI(e)&&Jn(e.url)}function xI(e){return!!e&&e[OI]}var sO=(e,t,n,r)=>H(i=>(new gg(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),gg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ig(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=no(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=no(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=no(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=no(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _u(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(ig(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ig(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},wu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},oo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function aO(e,t,n){let r=e._root,i=t?t._root:null;return Fs(r,i,n,[r.value])}function cO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function po(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!kf(e)?e:t.get(e):r}function Fs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=no(t);return e.children.forEach(s=>{lO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vs(a,n.getContext(s),i)),i}function lO(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=uO(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fs(e,t,a?a.children:null,r,i):Fs(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new oo(a.outlet.component,s))}else s&&Vs(t,a,i),i.canActivateChecks.push(new wu(r)),o.component?Fs(e,null,a?a.children:null,r,i):Fs(e,null,n,r,i);return i}function uO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!$r(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$r(e.url,t.url)||!Gt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hg(e,t)||!Gt(e.queryParams,t.queryParams);case"paramsChange":default:return!hg(e,t)}}function Vs(e,t,n){let r=no(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Vs(s,t.children.getContext(o),n):Vs(s,null,n):Vs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new oo(t.outlet.component,i)):n.canDeactivateChecks.push(new oo(null,i)):n.canDeactivateChecks.push(new oo(null,i))}function Zs(e){return typeof e=="function"}function dO(e){return typeof e=="boolean"}function fO(e){return e&&Zs(e.canLoad)}function hO(e){return e&&Zs(e.canActivate)}function pO(e){return e&&Zs(e.canActivateChild)}function gO(e){return e&&Zs(e.canDeactivate)}function mO(e){return e&&Zs(e.canMatch)}function PI(e){return e instanceof cn||e?.name==="EmptyError"}var ru=Symbol("INITIAL_VALUE");function fo(){return Je(e=>Go(e.map(t=>t.pipe(un(1),_f(ru)))).pipe(H(t=>{for(let n of t)if(n!==!0){if(n===ru)return ru;if(n===!1||vO(n))return n}return!0}),Be(t=>t!==ru),un(1)))}function vO(e){return Jn(e)||e instanceof uo}function _O(e,t){return ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?A(k(v({},n),{guardsResult:!0})):yO(s,r,i,e).pipe(ae(a=>a&&dO(a)?EO(r,o,e,t):A(a)),H(a=>k(v({},n),{guardsResult:a})))})}function yO(e,t,n,r){return te(e).pipe(ae(i=>bO(i.component,i.route,n,t,r)),dn(i=>i!==!0,!0))}function EO(e,t,n,r){return te(t).pipe(Nn(i=>Ri(IO(i.route.parent,r),CO(i.route,r),DO(e,i.path,n),wO(e,i.route,n))),dn(i=>i!==!0,!0))}function CO(e,t){return e!==null&&t&&t(new vu(e)),A(!0)}function IO(e,t){return e!==null&&t&&t(new gu(e)),A(!0)}function wO(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>qo(()=>{let s=ho(t)??n,a=po(o,s),c=hO(a)?a.canActivate(t,e):he(s,()=>a(t,e));return Cn(c).pipe(dn())}));return A(i).pipe(fo())}function DO(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>cO(s)).filter(s=>s!==null).map(s=>qo(()=>{let a=s.guards.map(c=>{let l=ho(s.node)??n,u=po(c,l),d=pO(u)?u.canActivateChild(r,e):he(l,()=>u(r,e));return Cn(d).pipe(dn())});return A(a).pipe(fo())}));return A(o).pipe(fo())}function bO(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=ho(t)??i,l=po(a,c),u=gO(l)?l.canDeactivate(e,t,n,r):he(c,()=>l(e,t,n,r));return Cn(u).pipe(dn())});return A(s).pipe(fo())}function TO(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=po(s,e),c=fO(a)?a.canLoad(t,n):he(e,()=>a(t,n));return Cn(c)});return A(o).pipe(fo(),FI(r))}function FI(e){return sf(Ce(t=>{if(typeof t!="boolean")throw Iu(e,t)}),H(t=>t===!0))}function SO(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=po(s,e),c=mO(a)?a.canMatch(t,n):he(e,()=>a(t,n));return Cn(c)});return A(o).pipe(fo(),FI(r))}var zs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Gs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function to(e){return Ai(new zs(e))}function AO(e){return Ai(new I(4e3,!1))}function NO(e){return Ai(kI(!1,Pe.GuardRejected))}var mg=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[x])return AO(`${t.redirectTo}`);i=i.children[x]}}applyRedirectCommands(t,n,r,i,o){return RO(n,i,o).pipe(H(s=>{if(s instanceof Yt)throw new Gs(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Gs(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Yt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Y(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function RO(e,t,n){if(typeof e=="string")return A(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return Cn(he(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MO(e,t,n,r,i){let o=LI(e,t,n);return o.matched?(r=XM(t,r),SO(r,t,n,i).pipe(H(s=>s===!0?o:v({},vg)))):A(o)}function LI(e,t,n){if(t.path==="**")return OO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},vg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||fI)(n,e,t);if(!i)return v({},vg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function OO(e){return{matched:!0,parameters:e.length>0?pI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function lI(e,t,n,r){return n.length>0&&PO(e,n,r)?{segmentGroup:new Y(t,xO(r,new Y(n,e.children))),slicedSegments:[]}:n.length===0&&FO(e,n,r)?{segmentGroup:new Y(e.segments,kO(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Y(e.segments,e.children),slicedSegments:n}}function kO(e,t,n,r){let i={};for(let o of n)if(bu(e,t,o)&&!r[At(o)]){let s=new Y([],{});i[At(o)]=s}return v(v({},r),i)}function xO(e,t){let n={};n[x]=t;for(let r of e)if(r.path===""&&At(r)!==x){let i=new Y([],{});n[At(r)]=i}return n}function PO(e,t,n){return n.some(r=>bu(e,t,r)&&At(r)!==x)}function FO(e,t,n){return n.some(r=>bu(e,t,r))}function bu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function LO(e,t,n){return t.length===0&&!e.children[n]}var _g=class{};function VO(e,t,n,r,i,o,s="emptyOnly"){return new yg(e,t,n,r,i,s,o).recognize()}var jO=31,yg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mg(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=lI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:n,rootSnapshot:r})=>{let i=new nt(r,n),o=new $s("",i),s=wI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Wr([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,x,n).pipe(H(r=>({children:r,rootSnapshot:n})),ln(r=>{if(r instanceof Gs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(H(s=>s instanceof nt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return te(o).pipe(Nn(s=>{let a=r.children[s],c=eO(n,s);return this.processSegmentGroup(t,c,a,s,i)}),vf((s,a)=>(s.push(...a),s)),Rn(null),mf(),ae(s=>{if(s===null)return to(r);let a=VI(s);return UO(a),A(a)}))}processSegment(t,n,r,i,o,s,a){return te(n).pipe(Nn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(ln(l=>{if(l instanceof zs)return A(null);throw l}))),dn(c=>!!c),ln(c=>{if(PI(c))return LO(r,i,o)?A(new _g):to(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return At(r)!==s&&(s===x||!bu(i,o,r))?to(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):to(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=LI(n,i,o);if(!c)return to(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jO&&(this.allowRedirects=!1));let h=new Wr(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,uI(i),At(i),i.component??i._loadedComponent??null,i,dI(i)),p=Cu(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Je(D=>this.applyRedirects.lineralizeSegments(i,D)),ae(D=>this.processSegment(t,r,n,D.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=MO(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Je(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Je(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new Wr(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,uI(r),At(r),r.component??r._loadedComponent??null,r,dI(r)),y=Cu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:D,slicedSegments:S}=lI(n,f,h,l);if(S.length===0&&D.hasChildren())return this.processChildren(u,l,D,p).pipe(H(Ae=>new nt(p,Ae)));if(l.length===0&&S.length===0)return A(new nt(p,[]));let Ve=At(r)===o;return this.processSegment(u,l,D,S,Ve?x:o,!0,p).pipe(H(Ae=>new nt(p,Ae instanceof nt?[Ae]:[])))}))):to(n)))}getChildConfig(t,n,r){return n.children?A({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):TO(t,n,r,this.urlSerializer).pipe(ae(i=>i?this.configLoader.loadChildren(t,n).pipe(Ce(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):NO(n))):A({routes:[],injector:t})}};function UO(e){e.sort((t,n)=>t.value.outlet===x?-1:n.value.outlet===x?1:t.value.outlet.localeCompare(n.value.outlet))}function BO(e){let t=e.value.routeConfig;return t&&t.path===""}function VI(e){let t=[],n=new Set;for(let r of e){if(!BO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=VI(r.children);t.push(new nt(r.value,i))}return t.filter(r=>!n.has(r))}function uI(e){return e.data||{}}function dI(e){return e.resolve||{}}function HO(e,t,n,r,i,o){return ae(s=>VO(e,t,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:c})=>k(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function $O(e,t){return ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of jI(c))s.add(l);let a=0;return te(s).pipe(Nn(c=>o.has(c)?WO(c,r,e,t):(c.data=Cu(c,c.parent,e).resolve,A(void 0))),Ce(()=>a++),Mi(1),ae(c=>a===s.size?A(n):je))})}function jI(e){let t=e.children.map(n=>jI(n)).flat();return[e,...t]}function WO(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!RI(i)&&(o[qs]=i.title),qo(()=>(e.data=Cu(e,e.parent,n).resolve,zO(o,e,t,r).pipe(H(s=>(e._resolvedData=s,e.data=v(v({},e.data),s),null)))))}function zO(e,t,n,r){let i=ag(e);if(i.length===0)return A({});let o={};return te(i).pipe(ae(s=>GO(e[s],t,n,r).pipe(dn(),Ce(a=>{if(a instanceof uo)throw Iu(new Qn,a);o[s]=a}))),Mi(1),H(()=>o),ln(s=>PI(s)?je:Ai(s)))}function GO(e,t,n,r){let i=ho(t)??r,o=po(e,i),s=o.resolve?o.resolve(t,n):he(i,()=>o(t,n));return Cn(s)}function og(e){return Je(t=>{let n=e(t);return n?te(n).pipe(H(()=>t)):A(t)})}var Dg=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===x);return r}getResolvedTitleForRoute(n){return n.data[qs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(UI),providedIn:"root"})}return e})(),UI=(()=>{class e extends Dg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(T(iI))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),er=new C("",{providedIn:"root",factory:()=>({})}),Yr=new C(""),Tu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(kp);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Cn(he(n,()=>r.loadComponent())).pipe(H(HI),Ce(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Yo(()=>{this.componentLoaders.delete(r)})),o=new Di(i,()=>new ue).pipe(wi());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=BI(r,this.compiler,n,this.onLoadEndListener).pipe(Yo(()=>{this.childrenLoaders.delete(r)})),s=new Di(o,()=>new ue).pipe(wi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BI(e,t,n,r){return Cn(he(n,()=>e.loadChildren())).pipe(H(HI),ae(i=>i instanceof Rl||Array.isArray(i)?A(i):te(t.compileModuleAsync(i))),H(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Yr,[],{optional:!0,self:!0}).flat()),{routes:s.map(wg),injector:o}}))}function qO(e){return e&&typeof e=="object"&&"default"in e}function HI(e){return qO(e)?e.default:e}var Su=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(YO),providedIn:"root"})}return e})(),YO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bg=new C(""),Tg=new C("");function $I(e,t,n){let r=e.get(Tg),i=e.get(pe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),KO(e))),{onViewTransitionCreated:c}=r;return c&&he(e,()=>c({transition:a,from:t,to:n})),s}function KO(e){return new Promise(t=>{Ol({read:()=>setTimeout(t)},{injector:e})})}var Sg=new C(""),Au=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortWithErrorSubject=new ue;configLoader=g(Tu);environmentInjector=g(ce);destroyRef=g(mn);urlSerializer=g(Gr);rootContexts=g(qr);location=g(Kn);inputBindingEnabled=g(Ks,{optional:!0})!==null;titleStrategy=g(Dg);options=g(er,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Su);createViewTransition=g(bg,{optional:!0});navigationErrorHandler=g(Sg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new hu(i)),r=i=>this.events.next(new pu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(k(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new De(null),this.transitions.pipe(Be(r=>r!==null),Je(r=>{let i=!1;return A(r).pipe(Je(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pe.SupersededByNewNavigation),je;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?k(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Kt(o.id,this.urlSerializer.serialize(o.rawUrl),c,so.IgnoredSameUrlNavigation)),o.resolve(!1),je}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return A(o).pipe(Je(c=>(this.events.next(new Xn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?je:Promise.resolve(c))),HO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=k(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Us(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new Xn(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let p=AI(this.rootComponentType).snapshot;return this.currentTransition=r=k(v({},o),{targetSnapshot:p,urlAfterRedirects:l,extras:k(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,A(r)}else{let c="";return this.events.next(new Kt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,so.IgnoredByUrlHandlingStrategy)),o.resolve(!1),je}}),Ce(o=>{let s=new lu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=r=k(v({},o),{guards:aO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),_O(this.environmentInjector,o=>this.events.next(o)),Ce(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Iu(this.urlSerializer,o.guardsResult);let s=new uu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Be(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Pe.GuardRejected),!1)),og(o=>{if(o.guards.canActivateChecks.length!==0)return A(o).pipe(Ce(s=>{let a=new du(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Je(s=>{let a=!1;return A(s).pipe($O(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Pe.NoDataFromResolver)}}))}),Ce(s=>{let a=new fu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),og(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=ho(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ce(u=>{a.component=u}),H(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Go(s(o.targetSnapshot.root)).pipe(Rn(null),un(1))}),og(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?te(a).pipe(H(()=>r)):A(r)}),H(o=>{let s=nO(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=k(v({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ce(()=>{this.events.next(new Bs)}),sO(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),un(1),Ac(new L(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Be(()=>!i&&!r.targetRouterState),Ce(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Pe.Aborted)}))),Ce({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ht(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ac(this.transitionAbortWithErrorSubject.pipe(Ce(o=>{throw o}))),Yo(()=>{i||this.cancelNavigationTransition(r,"",Pe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ln(o=>{if(this.destroyed)return r.resolve(!1),je;if(i=!0,xI(o))this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),oO(o)?this.events.next(new lo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ao(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=he(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof uo){let{message:c,cancellationCode:l}=Iu(this.urlSerializer,a);this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new lo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return je}))}))}cancelNavigationTransition(n,r,i){let o=new qt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZO(e){return e!==io}var WI=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(QO),providedIn:"root"})}return e})(),Du=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},QO=(()=>{class e extends Du{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ki(e)))(i||e)}})();static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zI=(()=>{class e{urlSerializer=g(Gr);options=g(er,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Kn);urlHandlingStrategy=g(Su);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Yt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Yt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=AI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>g(JO),providedIn:"root"})}return e})(),JO=(()=>{class e extends zI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Xn?this.updateStateMemento():n instanceof Kt?this.commitTransition(r):n instanceof Us?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qt&&n.code!==Pe.SupersededByNewNavigation&&n.code!==Pe.Redirect?this.restoreHistory(r):n instanceof ao?this.restoreHistory(r,!0):n instanceof ht&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ki(e)))(i||e)}})();static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nu(e,t){e.events.pipe(Be(n=>n instanceof ht||n instanceof qt||n instanceof ao||n instanceof Kt),H(n=>n instanceof ht||n instanceof Kt?0:(n instanceof qt?n.code===Pe.Redirect||n.code===Pe.SupersededByNewNavigation:!1)?2:1),Be(n=>n!==2),un(1)).subscribe(()=>{t()})}var XO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ek={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(bp);stateManager=g(zI);options=g(er,{optional:!0})||{};pendingTasks=g(_n);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Au);urlSerializer=g(Gr);location=g(Kn);urlHandlingStrategy=g(Su);injector=g(ce);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(WI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Yr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Ks,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new oe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qt&&r.code!==Pe.Redirect&&r.code!==Pe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ht)this.navigated=!0;else if(r instanceof lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZO(i.source)},s);this.scheduleNavigation(a,io,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}JM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),io,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ze)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(wg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=DI(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return bI(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jn(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,io,null,r)}navigate(n,r={skipLocationChange:!1}){return tk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},XO):r===!1?i=v({},ek):i=r,Jn(n))return oI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return oI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Nu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tk(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}var go=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=vn(null);get href(){return bt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ue;applicationErrorHandler=g(ze);options=g(er,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new Gl("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ht&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Jn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(W(Qt),W(Zt),vs("tabindex"),W($n),W(En),W(St))};static \u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ge("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Is("href",i.reactiveHref(),np)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hr],replaceUrl:[2,"replaceUrl","replaceUrl",Hr],routerLink:"routerLink"},features:[Bn]})}return e})();var Qs=class{};var GI=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Be(n=>n instanceof ht),Nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ji(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return te(i).pipe(Ni())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=A(null);let o=i.pipe(ae(s=>s===null?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return te([o,s]).pipe(Ni())}else return o})}static \u0275fac=function(r){return new(r||e)(T(Qt),T(ce),T(Qs),T(Tu))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qI=new C(""),nk=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=io;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ht?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Kt&&n.code===so.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof co&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>m(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new co(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){_p()};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();function Ng(e,...t){return gn([{provide:Yr,multi:!0,useValue:e},[],{provide:Zt,useFactory:YI,deps:[Qt]},{provide:Cs,multi:!0,useFactory:KI},t.map(n=>n.\u0275providers)])}function YI(e){return e.routerState.root}function Js(e,t){return{\u0275kind:e,\u0275providers:t}}function KI(){let e=g(fe);return t=>{let n=e.get(zn);if(t!==n.components[0])return;let r=e.get(Qt),i=e.get(ZI);e.get(Rg)===1&&r.initialNavigation(),e.get(XI,null,{optional:!0})?.setUpPreloading(),e.get(qI,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZI=new C("",{factory:()=>new ue}),Rg=new C("",{providedIn:"root",factory:()=>1});function QI(){let e=[{provide:Rg,useValue:0},kl(()=>{let t=g(fe);return t.get(Hp,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Qt),o=t.get(ZI);Nu(i,()=>{r(!0)}),t.get(Au).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))})];return Js(2,e)}function JI(){let e=[kl(()=>{g(Qt).setUpLocationChangeListener()}),{provide:Rg,useValue:2}];return Js(3,e)}var XI=new C("");function ew(e){return Js(0,[{provide:XI,useExisting:GI},{provide:Qs,useExisting:e}])}function tw(){return Js(8,[Cg,{provide:Ks,useExisting:Cg}])}function nw(e){Qi("NgRouterViewTransitions");let t=[{provide:bg,useValue:$I},{provide:Tg,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return Js(9,t)}var rw=[Kn,{provide:Gr,useClass:Qn},Qt,qr,{provide:Zt,useFactory:YI,deps:[Qt]},Tu,[]],Xs=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[rw,[],{provide:Yr,multi:!0,useValue:n},[],r?.errorHandler?{provide:Sg,useValue:r.errorHandler}:[],{provide:er,useValue:r||{}},r?.useHash?ik():ok(),rk(),r?.preloadingStrategy?ew(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sk(r):[],r?.bindToComponentInputs?tw().\u0275providers:[],r?.enableViewTransitions?nw().\u0275providers:[],ak()]}}static forChild(n){return{ngModule:e,providers:[{provide:Yr,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=vt({})}return e})();function rk(){return{provide:qI,useFactory:()=>{let e=g(KC),t=g(X),n=g(er),r=g(Au),i=g(Gr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new nk(i,r,e,t,n)}}}function ik(){return{provide:St,useClass:$p}}function ok(){return{provide:St,useClass:Zl}}function sk(e){return[e.initialNavigation==="disabled"?JI().\u0275providers:[],e.initialNavigation==="enabledBlocking"?QI().\u0275providers:[]]}var Ag=new C("");function ak(){return[{provide:Ag,useFactory:KI},{provide:Cs,multi:!0,useExisting:Ag}]}var Ru=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=xe({type:e,selectors:[["app-navbar"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"nav-links"],["routerLink","/"],["routerLink","/recipes"],["routerLink","/cart"]],template:function(n,r){n&1&&(w(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),N(4,"Home"),b()(),w(5,"li")(6,"a",3),N(7,"Recipes"),b()(),w(8,"li")(9,"a",4),N(10,"Cart"),b()()()())},dependencies:[Xs,go],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#ff9800;font-family:Segoe UI,sans-serif;padding:10px 20px;color:#fff}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.nav-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:20px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Mu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=xe({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&qe(0,"app-navbar")(1,"router-outlet")},dependencies:[Ys,Ru],encapsulation:2})};var fw=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(W($n),W(En))};static \u0275dir=Ge({type:e})}return e})(),ck=(()=>{class e extends fw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ki(e)))(i||e)}})();static \u0275dir=Ge({type:e,features:[Vr]})}return e})(),hw=new C("");var lk={provide:hw,useExisting:Cr(()=>Fu),multi:!0};function uk(){let e=ft()?ft().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var dk=new C(""),Fu=(()=>{class e extends fw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!uk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(W($n),W(En),W(dk,8))};static \u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Hl([lk]),Vr]})}return e})();var fk=new C(""),hk=new C("");function pw(e){return e!=null}function gw(e){return Wn(e)?te(e):e}function mw(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function vw(e,t){return t.map(n=>n(e))}function pk(e){return!e.validate}function _w(e){return e.map(t=>pk(t)?t:n=>t.validate(n))}function gk(e){if(!e)return null;let t=e.filter(pw);return t.length==0?null:function(n){return mw(vw(n,t))}}function yw(e){return e!=null?gk(_w(e)):null}function mk(e){if(!e)return null;let t=e.filter(pw);return t.length==0?null:function(n){let r=vw(n,t).map(gw);return gf(r).pipe(H(mw))}}function Ew(e){return e!=null?mk(_w(e)):null}function ow(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function vk(e){return e._rawValidators}function _k(e){return e._rawAsyncValidators}function Mg(e){return e?Array.isArray(e)?e:[e]:[]}function ku(e,t){return Array.isArray(e)?e.includes(t):e===t}function sw(e,t){let n=Mg(t);return Mg(e).forEach(i=>{ku(n,i)||n.push(i)}),n}function aw(e,t){return Mg(t).filter(n=>!ku(e,n))}var xu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ew(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Og=class extends xu{name;get formDirective(){return null}get path(){return null}},ia=class extends xu{_parent=null;name=null;valueAccessor=null},kg=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AY=k(v({},yk),{"[class.ng-submitted]":"isSubmitted"}),Cw=(()=>{class e extends kg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(W(ia,2))};static \u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Vr]})}return e})();var ea="VALID",Ou="INVALID",mo="PENDING",ta="DISABLED",_o=class{},Pu=class extends _o{value;source;constructor(t,n){super(),this.value=t,this.source=n}},na=class extends _o{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ra=class extends _o{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},vo=class extends _o{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function Ek(e){return(Lu(e)?e.validators:e)||null}function Ck(e){return Array.isArray(e)?yw(e):e||null}function Ik(e,t){return(Lu(t)?t.asyncValidators:e)||null}function wk(e){return Array.isArray(e)?Ew(e):e||null}function Lu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var xg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(t){bt(()=>this.statusReactive.set(t))}_status=bs(()=>this.statusReactive());statusReactive=vn(void 0);get valid(){return this.status===ea}get invalid(){return this.status===Ou}get pending(){return this.status==mo}get disabled(){return this.status===ta}get enabled(){return this.status!==ta}errors;get pristine(){return bt(this.pristineReactive)}set pristine(t){bt(()=>this.pristineReactive.set(t))}_pristine=bs(()=>this.pristineReactive());pristineReactive=vn(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(t){bt(()=>this.touchedReactive.set(t))}_touched=bs(()=>this.touchedReactive());touchedReactive=vn(!1);get untouched(){return!this.touched}_events=new ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(sw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(sw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(aw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(aw(t,this._rawAsyncValidators))}hasValidator(t){return ku(this._rawValidators,t)}hasAsyncValidator(t){return ku(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(k(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ra(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ra(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(k(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new na(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new na(!0,r))}markAsPending(t={}){this.status=mo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(k(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ta,this.errors=null,this._forEachChild(i=>{i.disable(k(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pu(this.value,r)),this._events.next(new vo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ea,this._forEachChild(r=>{r.enable(k(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(k(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===mo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pu(this.value,n)),this._events.next(new vo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(k(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ta:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=mo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=gw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new vo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?ta:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mo)?mo:this._anyControlsHaveStatus(Ou)?Ou:ea}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new na(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ra(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ck(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=wk(this._rawAsyncValidators)}};var Iw=new C("",{providedIn:"root",factory:()=>Pg}),Pg="always";function Dk(e,t){return[...t.path,e]}function bk(e,t,n=Pg){Sk(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Ak(e,t),Rk(e,t),Nk(e,t),Tk(e,t)}function cw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Tk(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Sk(e,t){let n=vk(e);t.validator!==null?e.setValidators(ow(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=_k(e);t.asyncValidator!==null?e.setAsyncValidators(ow(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();cw(t._rawValidators,i),cw(t._rawAsyncValidators,i)}function Ak(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ww(e,t)})}function Nk(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ww(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ww(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Rk(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Mk(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Ok(e){return Object.getPrototypeOf(e.constructor)===ck}function kk(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Fu?n=o:Ok(o)?r=o:i=o}),i||r||n||null}function lw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function uw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var xk=class extends xg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Ek(n),Ik(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(uw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){uw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Pk={provide:ia,useExisting:Cr(()=>Fg)},dw=Promise.resolve(),Fg=(()=>{class e extends ia{_changeDetectorRef;callSetDisabledState;control=new xk;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kk(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Mk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){dw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Hr(r);dw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Dk(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(W(Og,9),W(fk,10),W(hk,10),W(hw,10),W(Br,8),W(Iw,8))};static \u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hl([Pk]),Vr,Bn]})}return e})();var Fk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=vt({})}return e})();var Dw=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Iw,useValue:n.callSetDisabledState??Pg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=vt({imports:[Fk]})}return e})();var bw=()=>{};var Vg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw Kr(t)},Kr=function(e){return new Error("Firebase Database ("+Vg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var Aw=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Vk=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Co={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Aw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new jg;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},jg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Bg=function(e){let t=Aw(e);return Co.encodeByteArray(t,!0)},sa=function(e){return Bg(e).replace(/\./g,"")},yo=function(e){try{return Co.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Nw(e){return Rw(void 0,e)}function Rw(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!jk(n)||(e[n]=Rw(e[n],t[n]));return e}function jk(e){return e!=="__proto__"}function Mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Uk=()=>Mw().__FIREBASE_DEFAULTS__,Bk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Hk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&yo(e[1]);return t&&JSON.parse(t)},Hg=()=>{try{return bw()||Uk()||Bk()||Hk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ow=e=>{var t,n;return(n=(t=Hg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},kw=e=>{let t=Ow(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$g=()=>{var e;return(e=Hg())===null||e===void 0?void 0:e.config},xw=e=>{var t;return(t=Hg())===null||t===void 0?void 0:t[`_${e}`]};var Nt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Zr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Wg(e){return m(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function Pw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sa(JSON.stringify(n)),sa(JSON.stringify(s)),""].join(".")}var oa={};function $k(){let e={prod:[],emulator:[]};for(let t of Object.keys(oa))oa[t]?e.emulator.push(t):e.prod.push(t);return e}function Wk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var Tw=!1;function zg(e,t){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||oa[e]===t||oa[e]||Tw)return;oa[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=$k().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Tw=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=Wk(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),D=document.getElementById(y)||document.createElement("a"),S=n("preprendIcon"),Ve=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Ae=f.element;a(Ae),u(D,y);let pi=l();c(Ve,S),Ae.append(Ve,p,D,pi),document.body.appendChild(Ae)}o?(p.innerText="Preview backend disconnected.",Ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Fw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lw(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ju(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xt(){return Vg.NODE_CLIENT===!0||Vg.NODE_ADMIN===!0}function Uu(){try{return typeof indexedDB=="object"}catch{return!1}}function Vw(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var zk="FirebaseError",Jt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zk,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}},Rt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Gk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Jt(i,a,r)}};function Gk(e,t){return e.replace(qk,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var qk=/\{\$([^}]+)}/g;function Eo(e){return JSON.parse(e)}function me(e){return JSON.stringify(e)}var jw=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Eo(yo(o[0])||""),n=Eo(yo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var Uw=function(e){let t=jw(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Bw=function(e){let t=jw(e).claims;return typeof t=="object"&&t.admin===!0};function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Bu(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ca(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(Sw(o)&&Sw(s)){if(!Jr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Sw(e){return e!==null&&typeof e=="object"}function la(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Vu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function Hw(e,t){let n=new Ug(e,t);return n.subscribe.bind(n)}var Ug=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yk(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Lg),i.error===void 0&&(i.error=Lg),i.complete===void 0&&(i.complete=Lg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Yk(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Lg(){}function Hu(e,t){return`${e} failed: ${t} argument `}var $w=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ua=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var kY=4*60*60*1e3;function it(e){return e&&e._delegate?e._delegate:e}var Fe=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Xr="[DEFAULT]";var $u=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Nt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zk(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Kk(e){return e===Xr?void 0:e}function Zk(e){return e.instantiationMode==="EAGER"}var da=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new $u(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var Qk=[],Q=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Q||{}),Jk={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Xk=Q.INFO,ex={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},tx=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=ex[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},tn=class{constructor(t){this.name=t,this._logLevel=Xk,this._logHandler=tx,this._userLogHandler=null,Qk.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Jk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...t),this._logHandler(this,Q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...t),this._logHandler(this,Q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...t),this._logHandler(this,Q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...t),this._logHandler(this,Q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...t),this._logHandler(this,Q.ERROR,...t)}};var nx=(e,t)=>t.some(n=>e instanceof n),Ww,zw;function rx(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ix(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Gw=new WeakMap,qg=new WeakMap,qw=new WeakMap,Gg=new WeakMap,Kg=new WeakMap;function ox(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(nn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Gw.set(n,e)}).catch(()=>{}),Kg.set(t,e),t}function sx(e){if(qg.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});qg.set(e,t)}var Yg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Yw(e){Yg=e(Yg)}function ax(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Wu(this),t,...n);return qw.set(r,t.sort?t.sort():[t]),nn(r)}:ix().includes(e)?function(...t){return e.apply(Wu(this),t),nn(Gw.get(this))}:function(...t){return nn(e.apply(Wu(this),t))}}function cx(e){return typeof e=="function"?ax(e):(e instanceof IDBTransaction&&sx(e),nx(e,rx())?new Proxy(e,Yg):e)}function nn(e){if(e instanceof IDBRequest)return ox(e);if(Gg.has(e))return Gg.get(e);let t=cx(e);return t!==e&&(Gg.set(e,t),Kg.set(t,e)),t}var Wu=e=>Kg.get(e);function Zw(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=nn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(nn(s.result),c.oldVersion,c.newVersion,nn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lx=["get","getKey","getAll","getAllKeys","count"],ux=["put","add","delete","clear"],Zg=new Map;function Kw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zg.get(t))return Zg.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lx.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Zg.set(t,o),o}Yw(e=>k(v({},e),{get:(t,n,r)=>Kw(t,n)||e.get(t,n,r),has:(t,n)=>!!Kw(t,n)||e.has(t,n)}));var Jg=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dx(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dx(e){let t=e.getComponent();return t?.type==="VERSION"}var Xg="@firebase/app",Qw="0.13.2";var In=new tn("@firebase/app"),fx="@firebase/app-compat",hx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",mx="@firebase/app-check",vx="@firebase/auth",_x="@firebase/auth-compat",yx="@firebase/database",Ex="@firebase/data-connect",Cx="@firebase/database-compat",Ix="@firebase/functions",wx="@firebase/functions-compat",Dx="@firebase/installations",bx="@firebase/installations-compat",Tx="@firebase/messaging",Sx="@firebase/messaging-compat",Ax="@firebase/performance",Nx="@firebase/performance-compat",Rx="@firebase/remote-config",Mx="@firebase/remote-config-compat",Ox="@firebase/storage",kx="@firebase/storage-compat",xx="@firebase/firestore",Px="@firebase/ai",Fx="@firebase/firestore-compat",Lx="firebase",Vx="11.10.0";var em="[DEFAULT]",jx={[Xg]:"fire-core",[fx]:"fire-core-compat",[px]:"fire-analytics",[hx]:"fire-analytics-compat",[mx]:"fire-app-check",[gx]:"fire-app-check-compat",[vx]:"fire-auth",[_x]:"fire-auth-compat",[yx]:"fire-rtdb",[Ex]:"fire-data-connect",[Cx]:"fire-rtdb-compat",[Ix]:"fire-fn",[wx]:"fire-fn-compat",[Dx]:"fire-iid",[bx]:"fire-iid-compat",[Tx]:"fire-fcm",[Sx]:"fire-fcm-compat",[Ax]:"fire-perf",[Nx]:"fire-perf-compat",[Rx]:"fire-rc",[Mx]:"fire-rc-compat",[Ox]:"fire-gcs",[kx]:"fire-gcs-compat",[xx]:"fire-fst",[Fx]:"fire-fst-compat",[Px]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};var fa=new Map,Ux=new Map,tm=new Map;function Jw(e,t){try{e.container.addComponent(t)}catch(n){In.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ot(e){let t=e.name;if(tm.has(t))return In.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,e);for(let n of fa.values())Jw(n,e);for(let n of Ux.values())Jw(n,e);return!0}function zu(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wn(e){return e==null?!1:e.settings!==void 0}var Bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Rt("app","Firebase",Bx);var nm=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}};var Io=Vx;function om(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:em,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw tr.create("bad-app-name",{appName:String(i)});if(n||(n=$g()),!n)throw tr.create("no-options");let o=fa.get(i);if(o){if(Jr(n,o.options)&&Jr(r,o.config))return o;throw tr.create("duplicate-app",{appName:i})}let s=new da(i);for(let c of tm.values())s.addComponent(c);let a=new nm(n,r,s);return fa.set(i,a),a}function wo(e=em){let t=fa.get(e);if(!t&&e===em&&$g())return om();if(!t)throw tr.create("no-app",{appName:e});return t}function Gu(){return Array.from(fa.values())}function le(e,t,n){var r;let i=(r=jx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),In.warn(a.join(" "));return}Ot(new Fe(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Hx="firebase-heartbeat-database",$x=1,ha="firebase-heartbeat-store",Qg=null;function nD(){return Qg||(Qg=Zw(Hx,$x,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ha)}catch(n){console.warn(n)}}}}).catch(e=>{throw tr.create("idb-open",{originalErrorMessage:e.message})})),Qg}function Wx(e){return m(this,null,function*(){try{let n=(yield nD()).transaction(ha),r=yield n.objectStore(ha).get(rD(e));return yield n.done,r}catch(t){if(t instanceof Jt)In.warn(t.message);else{let n=tr.create("idb-get",{originalErrorMessage:t?.message});In.warn(n.message)}}})}function Xw(e,t){return m(this,null,function*(){try{let r=(yield nD()).transaction(ha,"readwrite");yield r.objectStore(ha).put(t,rD(e)),yield r.done}catch(n){if(n instanceof Jt)In.warn(n.message);else{let r=tr.create("idb-set",{originalErrorMessage:n?.message});In.warn(r.message)}}})}function rD(e){return`${e.name}!${e.options.appId}`}var zx=1024,Gx=30,rm=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new im(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eD();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Gx){let s=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){In.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eD(),{heartbeatsToSend:r,unsentEntries:i}=qx(this._heartbeatsCache.heartbeats),o=sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return In.warn(n),""}})}};function eD(){return new Date().toISOString().substring(0,10)}function qx(e,t=zx){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tD(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tD(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var im=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Uu()?Vw().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Wx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Xw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Xw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function tD(e){return sa(JSON.stringify({version:2,heartbeats:e})).length}function Yx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Kx(e){Ot(new Fe("platform-logger",t=>new Jg(t),"PRIVATE")),Ot(new Fe("heartbeat",t=>new rm(t),"PRIVATE")),le(Xg,Qw,e),le(Xg,Qw,"esm2017"),le("fire-js","")}Kx("");var Zx="firebase",Qx="11.10.0";le(Zx,Qx,"app");function iD(e){e===void 0&&(e=g(fe));let t=e.get(Hi);return n=>new L(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ti=new Ur("ANGULARFIRE2_VERSION");function Yu(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var bo=(e,t)=>{let n=t?[t]:Gu(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Do=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Do||{}),oD=jp()&&typeof Zone<"u"?Do.WARN:Do.SILENT;var qu=class{zone;delegate;constructor(t,n=ff){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ni=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=g(X);this.outsideAngular=n.runOutsideAngular(()=>new qu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new qu(typeof Zone>"u"?void 0:Zone.current,df))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sD=!1;function Jx(e,t){!sD&&(oD>Do.SILENT||jp())&&(sD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oD>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function Xx(e){let t=g(X,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function ei(e){let t=g(X,{optional:!0});return t?t.run(()=>e()):e()}var eP=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),he(n,()=>ei(()=>e.apply(void 0,r)))),rn=(e,t,n)=>(n||=t?Do.WARN:Do.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=g(ni),s=g(Hi),a=g(ce)}catch{return Jx(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=ei(()=>s.add())),i[l]=eP(i[l],r,a));let c=Xx(()=>e.apply(this,i));return t?c instanceof L?c.pipe(An(o.outsideAngular),Sn(o.insideAngular),iD(a)):c instanceof Promise?ei(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>he(a,()=>ei(()=>u(f))),f=>he(a,()=>ei(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ei(()=>c):c instanceof L?c.pipe(An(o.outsideAngular),Sn(o.insideAngular)):ei(()=>c)});var ri=class{constructor(t){return t}},pa=class{constructor(){return Gu()}};function tP(e){return e&&e.length===1?e[0]:new ri(wo())}var sm=new C("angularfire2._apps"),nP={provide:ri,useFactory:tP,deps:[[new $t,sm]]},rP={provide:pa,deps:[[new $t,sm]]};function iP(e){return(t,n)=>{let r=n.get(Hn);le("angularfire",ti.full,"core"),le("angularfire",ti.full,"app"),le("angular",jC.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new ri(i)}}function aD(e,...t){return gn([nP,rP,{provide:sm,useFactory:iP(e),multi:!0,deps:[X,fe,ni,...t]}])}var cD=rn(om,!0);var oP=new Map,sP={activated:!1,tokenObservers:[]},aP={initialized:!1,enabled:!1};function kt(e){return oP.get(e)||Object.assign({},sP)}function fD(){return aP}var cP="https://content-firebaseappcheck.googleapis.com/v1";var lP="exchangeDebugToken",lD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},FK=24*60*60*1e3;var lm=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new Nt,this.pending.promise.catch(n=>{}),yield uP(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Nt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function uP(e){return new Promise(t=>{setTimeout(t,e)})}var dP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},nr=new Rt("appCheck","AppCheck",dP);function hD(e){if(!kt(e).activated)throw nr.create("use-before-activation",{appName:e.name})}function pD(r,i){return m(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw nr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw nr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw nr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function gD(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${cP}/projects/${n}/apps/${r}:${lP}?key=${i}`,body:{debug_token:t}}}var fP="firebase-app-check-database",hP=1,um="firebase-app-check-store";var Ku=null;function pP(){return Ku||(Ku=new Promise((e,t)=>{try{let n=indexedDB.open(fP,hP);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(nr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(um,{keyPath:"compositeKey"})}}}catch(n){t(nr.create("storage-open",{originalErrorMessage:n?.message}))}}),Ku)}function gP(e,t){return mP(vP(e),t)}function mP(e,t){return m(this,null,function*(){let r=(yield pP()).transaction(um,"readwrite"),o=r.objectStore(um).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(nr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function vP(e){return`${e.options.appId}-${e.name}`}var ga=new tn("@firebase/app-check");function am(e,t){return Uu()?gP(e,t).catch(n=>{ga.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function mD(){return fD().enabled}function vD(){return m(this,null,function*(){let e=fD();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var _P={error:"UNKNOWN_ERROR"};function yP(e){return Co.encodeString(JSON.stringify(e),!1)}function dm(e,t=!1,n=!1){return m(this,null,function*(){let r=e.app;hD(r);let i=kt(r),o=i.token,s;if(o&&!ma(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ma(l)?o=l:yield am(r,void 0))}if(!t&&o&&ma(o))return{token:o.token};let a=!1;if(mD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pD(gD(r,yield vD()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield am(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ga.warn(l.message):n&&ga.error(l),cm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ga.warn(l.message):n&&ga.error(l),s=l}let c;return o?s?ma(o)?c={token:o.token,internalError:s}:c=cm(s):(c={token:o.token},i.token=o,yield am(r,o)):c=cm(s),a&&wP(r,c),c})}function EP(e){return m(this,null,function*(){let t=e.app;hD(t);let{provider:n}=kt(t);if(mD()){let r=yield vD(),{token:i}=yield pD(gD(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function CP(e,t,n,r){let{app:i}=e,o=kt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ma(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),uD(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>uD(e))}function _D(e,t){let n=kt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function uD(e){let{app:t}=e,n=kt(t),r=n.tokenRefresher;r||(r=IP(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function IP(e){let{app:t}=e;return new lm(()=>m(null,null,function*(){let n=kt(t),r;if(n.token?r=yield dm(e,!0):r=yield dm(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=kt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lD.RETRIAL_MIN_WAIT,lD.RETRIAL_MAX_WAIT)}function wP(e,t){let n=kt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ma(e){return e.expireTimeMillis-Date.now()>0}function cm(e){return{token:yP(_P),error:e}}var fm=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=kt(this.app);for(let n of t)_D(this.app,n.next);return Promise.resolve()}};function DP(e,t){return new fm(e,t)}function bP(e){return{getToken:t=>dm(e,t),getLimitedUseToken:()=>EP(e),addTokenListener:t=>CP(e,"INTERNAL",t),removeTokenListener:t=>_D(e.app,t)}}var TP="@firebase/app-check",SP="0.10.1";var AP="app-check",dD="app-check-internal";function NP(){Ot(new Fe(AP,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return DP(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(dD).initialize()})),Ot(new Fe(dD,e=>{let t=e.getProvider("app-check").getImmediate();return bP(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),le(TP,SP)}NP();var RP="app-check";var Zu=class{constructor(){return bo(RP)}};var MP=["localhost","0.0.0.0","127.0.0.1"],KK=typeof window<"u"&&MP.includes(window.location.hostname);function TD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SD=TD,AD=new Rt("auth","Firebase",TD());var ed=new tn("@firebase/auth");function OP(e,...t){ed.logLevel<=Q.WARN&&ed.warn(`Auth (${Io}): ${e}`,...t)}function Ju(e,...t){ed.logLevel<=Q.ERROR&&ed.error(`Auth (${Io}): ${e}`,...t)}function yD(e,...t){throw Dm(e,...t)}function wm(e,...t){return Dm(e,...t)}function ND(e,t,n){let r=Object.assign(Object.assign({},SD()),{[t]:n});return new Rt("auth","Firebase",r).create(t,{appName:e.name})}function Xu(e){return ND(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return AD.create(e,...t)}function K(e,t,...n){if(!e)throw Dm(t,...n)}function va(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Ju(t),new Error(t)}function td(e,t){e||va(t)}function kP(){return ED()==="http:"||ED()==="https:"}function ED(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function xP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||Lw()||"connection"in navigator)?navigator.onLine:!0}function PP(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var si=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,td(n>t,"Short delay should be less than long delay!"),this.isMobile=aa()||ju()}get(){return xP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function FP(e,t){td(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var nd=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jP=new si(3e4,6e4);function RD(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ad(o,s,a,c){return m(this,arguments,function*(e,t,n,r,i={}){return MD(e,i,()=>m(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=la(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return Fw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Zr(e.emulatorConfig.host)&&(h.credentials="include"),nd.fetch()(yield OD(e,e.config.apiHost,n,d),h)}))})}function MD(e,t,n){return m(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},LP),t);try{let i=new gm(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Qu(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Qu(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Qu(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ND(e,u,l);yD(e,u)}}catch(i){if(i instanceof Jt)throw i;yD(e,"network-request-failed",{message:String(i)})}})}function OD(e,t,n,r){return m(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?FP(e.config,i):`${e.config.apiScheme}://${i}`;return VP.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var gm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wm(this.auth,"network-request-failed")),jP.get())})}};function Qu(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wm(e,t,r);return i.customData._tokenResponse=n,i}function UP(e,t){return m(this,null,function*(){return ad(e,"POST","/v1/accounts:delete",t)})}function rd(e,t){return m(this,null,function*(){return ad(e,"POST","/v1/accounts:lookup",t)})}function _a(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function bm(e,t=!1){return m(this,null,function*(){let n=it(e),r=yield n.getIdToken(t),i=kD(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_a(hm(i.auth_time)),issuedAtTime:_a(hm(i.iat)),expirationTime:_a(hm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hm(e){return Number(e)*1e3}function kD(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{let i=yo(n);return i?JSON.parse(i):(Ju("Failed to decode base64 JWT payload"),null)}catch(i){return Ju("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CD(e){let t=kD(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function mm(e,t,n=!1){return m(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Jt&&BP(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function BP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var vm=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ea=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function id(e){return m(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield mm(e,rd(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?xD(o.providerUserInfo):[],a=HP(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ea(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function Tm(e){return m(this,null,function*(){let t=it(e);yield id(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function HP(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function xD(e){return e.map(t=>{var{providerId:n}=t,r=hf(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $P(e,t){return m(this,null,function*(){let n=yield MD(e,{},()=>m(null,null,function*(){let r=la({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield OD(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Zr(e.emulatorConfig.host)&&(c.credentials="include"),nd.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function WP(e,t){return m(this,null,function*(){return ad(e,"POST","/v2/accounts:revokeToken",RD(e,t))})}var ya=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):CD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");let n=CD(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $P(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(K(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return va("not implemented")}};function rr(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var ii=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=hf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ea(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){let n=yield mm(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return bm(this,t)}reload(){return Tm(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return m(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield id(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(wn(this.auth.app))return Promise.reject(Xu(this.auth));let t=yield this.getIdToken();return yield mm(this,UP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Ve=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Ae,emailVerified:pi,isAnonymous:Xv,providerData:zd,stsTokenManager:e_}=n;K(Ae&&e_,t,"internal-error");let VT=ya.fromJSON(this.name,e_);K(typeof Ae=="string",t,"internal-error"),rr(d,t.name),rr(f,t.name),K(typeof pi=="boolean",t,"internal-error"),K(typeof Xv=="boolean",t,"internal-error"),rr(h,t.name),rr(p,t.name),rr(y,t.name),rr(D,t.name),rr(S,t.name),rr(Ve,t.name);let Gd=new e({uid:Ae,auth:t,email:f,emailVerified:pi,displayName:d,isAnonymous:Xv,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:VT,createdAt:S,lastLoginAt:Ve});return zd&&Array.isArray(zd)&&(Gd.providerData=zd.map(jT=>Object.assign({},jT))),D&&(Gd._redirectEventId=D),Gd}static _fromIdTokenResponse(t,n,r=!1){return m(this,null,function*(){let i=new ya;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield id(o),o})}static _fromGetAccountInfoResponse(t,n,r){return m(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?xD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ya;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ea(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var ID=new Map;function oi(e){td(e instanceof Function,"Expected a class definition");let t=ID.get(e);return t?(td(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ID.set(e,t),t)}var zP=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),_m=zP;function pm(e,t,n){return`firebase:${e}:${t}:${n}`}var od=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,o),this.fullPersistenceKey=pm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield rd(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new e(oi(_m),t,r);let i=(yield Promise.all(n.map(l=>m(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||oi(_m),s=pm(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield rd(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield ii._fromGetAccountInfoResponse(t,f,u)}else d=ii._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function wD(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QP(t))return"Blackberry";if(JP(t))return"Webos";if(qP(t))return"Safari";if((t.includes("chrome/")||YP(t))&&!t.includes("edge/"))return"Chrome";if(ZP(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function GP(e=Mt()){return/firefox\//i.test(e)}function qP(e=Mt()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YP(e=Mt()){return/crios\//i.test(e)}function KP(e=Mt()){return/iemobile/i.test(e)}function ZP(e=Mt()){return/android/i.test(e)}function QP(e=Mt()){return/blackberry/i.test(e)}function JP(e=Mt()){return/webos/i.test(e)}function PD(e,t=[]){let n;switch(e){case"Browser":n=wD(Mt());break;case"Worker":n=`${wD(Mt())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}var ym=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function XP(n){return m(this,arguments,function*(e,t={}){return ad(e,"GET","/v2/passwordPolicy",RD(e,t))})}var eF=6,Em=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:eF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Cm=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sd(this),this.idTokenSubscription=new sd(this),this.beforeStateQueue=new ym(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield od.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{let n=yield rd(this,{idToken:t}),r=yield ii._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var n;if(wn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield id(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=PP()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(wn(this.app))return Promise.reject(Xu(this));let n=t?it(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return m(this,null,function*(){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return wn(this.app)?Promise.reject(Xu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return wn(this.app)?Promise.reject(Xu(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(oi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let t=yield XP(this),n=new Em(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Rt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield WP(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&oi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield od.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var t;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&OP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tF(e){return it(e)}var sd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Hw(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nF={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rF(e){nF=e}function iF(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function oF(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var aZ=iF("rcb"),cZ=new si(3e4,6e4);var lZ=new si(2e3,1e4);var uZ=10*60*1e3;var dZ=new si(3e4,6e4);var fZ=new si(5e3,15e3);var hZ=encodeURIComponent("fac");var DD="@firebase/auth",bD="1.10.8";var Im=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sF(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aF(e){Ot(new Fe("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(e)},l=new Cm(r,i,o,c);return oF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ot(new Fe("auth-internal",t=>{let n=tF(t.getProvider("auth").getImmediate());return(r=>new Im(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),le(DD,bD,sF(e)),le(DD,bD,"esm2017")}var cF=5*60,pZ=xw("authIdTokenMaxAge")||cF;function lF(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}rF({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=wm("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",lF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aF("Browser");var aL="auth";var cd=class{constructor(){return bo(aL)}};var FD="@firebase/database",LD="1.0.20";var Nv="";function cL(e){Nv=e}var xm=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),me(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Eo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Pm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return en(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var pb=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xm(t)}}catch{}return new Pm},ci=pb("localStorage"),Fm=pb("sessionStorage");var Ao=new tn("@firebase/database"),lL=function(){let e=1;return function(){return e++}}(),gb=function(e){let t=$w(e),n=new Vu;n.update(t);let r=n.digest();return Co.encodeByteArray(r)},Va=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Va.apply(null,r):typeof r=="object"?t+=me(r):t+=r,t+=" "}return t},ui=null,VD=!0,uL=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ao.logLevel=Q.VERBOSE,ui=Ao.log.bind(Ao),t&&Fm.set("logging_enabled",!0)):typeof e=="function"?ui=e:(ui=null,Fm.remove("logging_enabled"))},ke=function(...e){if(VD===!0&&(VD=!1,ui===null&&Fm.get("logging_enabled")===!0&&uL(!0)),ui){let t=Va.apply(null,e);ui(t)}},ja=function(e){return function(...t){ke(e,...t)}},Lm=function(...e){let t="FIREBASE INTERNAL ERROR: "+Va(...e);Ao.error(t)},Dn=function(...e){let t=`FIREBASE FATAL ERROR: ${Va(...e)}`;throw Ao.error(t),new Error(t)},Ye=function(...e){let t="FIREBASE WARNING: "+Va(...e);Ao.warn(t)},dL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mb=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fL=function(e){if(Xt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ro="[MIN_NAME]",di="[MAX_NAME]",Lo=function(e,t){if(e===t)return 0;if(e===Ro||t===di)return-1;if(t===Ro||e===di)return 1;{let n=jD(e),r=jD(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},hL=function(e,t){return e===t?0:e<t?-1:1},Ca=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+me(t))},Rv=function(e){if(typeof e!="object"||e===null)return me(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=me(t[r]),n+=":",n+=Rv(e[t[r]]);return n+="}",n},vb=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ke(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _b=function(e){_(!mb(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},pL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mL(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var vL=new RegExp("^-?(0*)\\d{1,10}$"),_L=-2147483648,yL=2147483647,jD=function(e){if(vL.test(e)){let t=Number(e);if(t>=_L&&t<=yL)return t}return null},Vo=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ye("Exception was thrown by user callback.",n),t},Math.floor(0))}},EL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ta=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Vm=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,wn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var jm=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(t)}},Sa=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),ud="5",yb="v",Eb="s",Cb="r",Ib="f",wb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Db="ls",bb="p",Um="ac",Tb="websocket",Sb="long_polling";var dd=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function CL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Ab(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(t===Tb)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Sb)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);CL(e)&&(n.ns=e.namespace);let i=[];return Ke(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Bm=class{constructor(){this.counters_={}}incrementCounter(t,n=1){en(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Nw(this.counters_)}};var Sm={},Am={};function Mv(e){let t=e.toString();return Sm[t]||(Sm[t]=new Bm),Sm[t]}function IL(e,t){let n=e.toString();return Am[n]||(Am[n]=t()),Am[n]}var Hm=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var UD="start",wL="close",DL="pLPCommand",bL="pRTLPCB",Nb="id",Rb="pw",Mb="ser",TL="cb",SL="seg",AL="ts",NL="d",RL="dframe",Ob=1870,kb=30,ML=Ob-kb,OL=25e3,kL=3e4,$m=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ja(t),this.stats_=Mv(n),this.urlFn=c=>(this.appCheckToken&&(c[Um]=this.appCheckToken),Ab(n,Sb,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Hm(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kL)),fL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wm((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===UD)this.id=a,this.password=c;else if(s===wL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[UD]="t",r[Mb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yb]=ud,this.transportSessionId&&(r[Eb]=this.transportSessionId),this.lastSessionId&&(r[Db]=this.lastSessionId),this.applicationId&&(r[bb]=this.applicationId),this.appCheckToken&&(r[Um]=this.appCheckToken),typeof location<"u"&&location.hostname&&wb.test(location.hostname)&&(r[Cb]=Ib);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Xt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pL()&&!gL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=me(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Bg(n),i=vb(r,ML);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Xt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[RL]="t",r[Nb]=t,r[Rb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=me(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Wm=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Xt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=lL(),window[DL+this.uniqueCallbackIdentifier]=t,window[bL+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ke("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[Nb]=this.myID,t[Rb]=this.myPW,t[Mb]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kb+r.length<=Ob;){let s=this.pendingSegs.shift();r=r+"&"+SL+i+"="+s.seg+"&"+AL+i+"="+s.ts+"&"+NL+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(OL)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Xt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ke("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var xL=16384,PL=45e3,fd=null;typeof MozWebSocket<"u"?fd=MozWebSocket:typeof WebSocket<"u"&&(fd=WebSocket);var Ia=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ja(this.connId),this.stats_=Mv(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[yb]=ud,!Xt()&&typeof location<"u"&&location.hostname&&wb.test(location.hostname)&&(a[Cb]=Ib),r&&(a[Eb]=r),i&&(a[Db]=i),o&&(a[Um]=o),s&&(a[bb]=s),Ab(n,Tb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let i;if(Xt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ud}/${Nv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new fd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&fd!==null&&!e.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Eo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=me(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=vb(r,xL);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PL))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),FL=(()=>{class e{static get ALL_TRANSPORTS(){return[$m,Ia]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ia&&Ia.isAvailable(),i=r&&!Ia.previouslyFailed();if(n.webSocketOnly&&(r||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ia];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),LL=6e4,VL=5e3,jL=10*1024,UL=100*1024,Nm="t",BD="d",BL="s",HD="r",HL="e",$D="o",WD="a",zD="n",GD="p",$L="h",zm=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ja("c:"+this.id+":"),this.transportManager_=new FL(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ta(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Nm in t){let n=t[Nm];n===WD?this.upgradeIfSecondaryHealthy_():n===HD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$D&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Ca("t",t),r=Ca("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:GD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:WD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Ca("t",t),r=Ca("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Ca(Nm,t);if(BD in t){let r=t[BD];if(n===$L){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===zD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===BL?this.onConnectionShutdown_(r):n===HD?this.onReset_(r):n===HL?Lm("Server Error: "+r):n===$D?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lm("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ud!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ta(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LL))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ta(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(VL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:GD,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var hd=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var pd=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var gd=class e extends pd{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var qD=32,YD=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function q(){return new J("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function sr(e){return e.pieces_.length-e.pieceNum_}function ee(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function xb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function WL(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Pb(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Fb(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function Ee(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof J)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new J(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function Le(e,t){let n=$(e),r=$(t);if(n===null)return t;if(n===r)return Le(ee(e),ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Lb(e,t){if(sr(e)!==sr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Pt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(sr(e)>sr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Gm=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Pb(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ua(this.parts_[r]);Vb(this)}};function zL(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ua(t),Vb(e)}function GL(e){let t=e.parts_.pop();e.byteLength_-=ua(t),e.parts_.length>0&&(e.byteLength_-=1)}function Vb(e){if(e.byteLength_>YD)throw new Error(e.errorPrefix_+"has a key path longer than "+YD+" bytes ("+e.byteLength_+").");if(e.parts_.length>qD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qD+") or object contains a cycle "+ai(e))}function ai(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var qm=class e extends pd{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var wa=1e3,qL=60*5*1e3,KD=30*1e3,YL=1.3,KL=3e4,ZL="server_kill",ZD=3,Ov=(()=>{class e extends hd{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=ja("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wa,this.maxReconnectDelay_=qL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Xt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&gd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(me(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Nt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&en(n,"w")){let i=Qr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Bw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=KD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Uw(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+me(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Lm("Unrecognized action received from server: "+me(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KL&&(this.reconnectDelay_=wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YL)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new zm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ye(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZL)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ye(f),l())}}})}interrupt(n){ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Bu(this.interruptReasons_)&&(this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Rv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new J(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZD&&(this.reconnectDelay_=KD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Xt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Nv.replace(/\./g,"-")]=1,aa()?n["framework.cordova"]=1:ju()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=gd.getInstance().currentlyOnline();return Bu(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),j=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Mo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new j(Ro,t),i=new j(Ro,n);return this.compare(r,i)!==0}minPost(){return j.MIN}};var ld,md=class extends Mo{static get __EMPTY_NODE(){return ld}static set __EMPTY_NODE(t){ld=t}compare(t,n){return Lo(t.name,n.name)}isDefinedOn(t){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(di,ld)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,ld)}toString(){return".key"}},No=new md;var So=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},xt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??pt.EMPTY_NODE,this.right=s??pt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return pt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ym=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new xt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},pt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new So(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new So(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new So(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new So(this.root_,null,this.comparator_,!0,t)}};pt.EMPTY_NODE=new Ym;function QL(e,t){return Lo(e.name,t.name)}function kv(e,t){return Lo(e,t)}var Km;function JL(e){Km=e}var jb=function(e){return typeof e=="number"?"number:"+_b(e):"string:"+e},Ub=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&en(t,".sv"),"Priority must be a string or number.")}else _(e===Km||e.isEmpty(),"priority of unexpected type.");_(e===Km||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var QD,Oo=(()=>{class e{static set __childrenNodeConstructor(n){QD=n}static get __childrenNodeConstructor(){return QD}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ub(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:$(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=$(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||sr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ee(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+jb(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=_b(this.value_):n+=this.value_,this.lazyHash_=gb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),Bb,Hb;function XL(e){Bb=e}function e1(e){Hb=e}var Zm=class extends Mo{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Lo(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(di,new Oo("[PRIORITY-POST]",Hb))}makePost(t,n){let r=Bb(t);return new j(n,new Oo("[PRIORITY-POST]",r))}toString(){return".priority"}},se=new Zm;var t1=Math.log(2),Qm=class{constructor(t){let n=o=>parseInt(Math.log(o)/t1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},vd=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new xt(f,d.node,xt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=n?n(d):d,new xt(f,d.node,xt.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let D=d-p,S=d;d-=p;let Ve=i(D+1,S),Ae=e[D],pi=n?n(Ae):Ae;h(new xt(pi,Ae.node,y,null,Ve))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),D=Math.pow(2,c.count-(p+1));y?f(D,xt.BLACK):(f(D,xt.BLACK),f(D,xt.RED))}return u},s=new Qm(e.length),a=o(s);return new pt(r||t,a)};var Rm,To={},ko=class e{static get Default(){return _(To&&se,"ChildrenNode.ts has not been loaded"),Rm=Rm||new e({".priority":To},{".priority":se}),Rm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Qr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof pt?n:null}hasIndex(t){return en(this.indexSet_,t.toString())}addIndex(t,n){_(t!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(j.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=vd(r,t.getCompare()):a=To;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=ca(this.indexes_,(i,o)=>{let s=Qr(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===To)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(j.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),vd(a,s.getCompare())}else return To;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new j(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=ca(this.indexes_,i=>{if(i===To)return i;{let o=n.get(t.name);return o?i.remove(new j(t.name,o)):i}});return new e(r,this.indexSet_)}};var Da,P=(()=>{class e{static get EMPTY_NODE(){return Da||(Da=new e(new pt(kv),null,ko.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ub(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Da:r}}getChild(n){let r=$(n);return r===null?this:this.getImmediateChild(r).getChild(ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new j(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Da:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=$(n);if(i===null)return r;{_($(n)!==".priority"||sr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ee(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(se,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+jb(this.getPriority().val())+":"),this.forEachChild(se,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":gb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new j(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new j(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new j(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ua?-1:0}withIndex(n){if(n===No||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===No||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(se),o=r.getIterator(se),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===No?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Jm=class extends P{constructor(){super(new pt(kv),P.EMPTY_NODE,ko.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return P.EMPTY_NODE}isEmpty(){return!1}},Ua=new Jm;Object.defineProperties(j,{MIN:{value:new j(Ro,P.EMPTY_NODE)},MAX:{value:new j(di,Ua)}});md.__EMPTY_NODE=P.EMPTY_NODE;Oo.__childrenNodeConstructor=P;JL(Ua);e1(Ua);var n1=!0;function we(e,t=null){if(e===null)return P.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Oo(n,we(t))}if(!(e instanceof Array)&&n1){let n=[],r=!1;if(Ke(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=we(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new j(s,c)))}}),n.length===0)return P.EMPTY_NODE;let o=vd(n,QL,s=>s.name,kv);if(r){let s=vd(n,se.getCompare());return new P(o,we(t),new ko({".priority":s},{".priority":se}))}else return new P(o,we(t),ko.Default)}else{let n=P.EMPTY_NODE;return Ke(e,(r,i)=>{if(en(e,r)&&r.substring(0,1)!=="."){let o=we(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(we(t))}}XL(we);var Xm=class extends Mo{constructor(t){super(),this.indexPath_=t,_(!U(t)&&$(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Lo(t.name,n.name):o}makePost(t,n){let r=we(t),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){let t=P.EMPTY_NODE.updateChild(this.indexPath_,Ua);return new j(di,t)}toString(){return Pb(this.indexPath_,0).join("/")}};var ev=class extends Mo{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Lo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){let r=we(t);return new j(n,r)}toString(){return".value"}},r1=new ev;function $b(e){return{type:"value",snapshotNode:e}}function xo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ma(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Oa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function i1(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var ka=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Ma(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(xo(n,r)):s.trackChildChange(Oa(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(se,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ma(i,o))}),n.isLeafNode()||n.forEachChild(se,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Oa(i,o,s))}else r.trackChildChange(xo(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?P.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var _d=class e{constructor(t){this.indexedFilter_=new ka(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new j(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);let o=this;return n.forEachChild(se,(s,a)=>{o.matches(new j(s,a))||(i=i.updateImmediateChild(s,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var tv=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _d(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new j(n,r))||(r=P.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new j(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Oa(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ma(n,d));let y=a.updateImmediateChild(n,P.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(xo(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Ma(l.name,l.node)),o.trackChildChange(xo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,P.EMPTY_NODE)):t}};var nv=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ro}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===se}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function o1(e){return e.loadsAllData()?new ka(e.getIndex()):e.hasLimit()?new tv(e):new _d(e)}function JD(e){let t={};if(e.isDefault())return t;let n;if(e.index_===se?n="$priority":e.index_===r1?n="$value":e.index_===No?n="$key":(_(e.index_ instanceof Xm,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=me(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=me(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+me(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=me(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+me(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function XD(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==se&&(t.i=e.index_.toString()),t}var rv=class e extends hd{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ja("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=JD(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Qr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=JD(t._queryParams),r=t._path.toString(),i=new Nt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+la(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Eo(a.responseText)}catch{Ye("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ye("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var iv=class{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function yd(){return{value:null,children:new Map}}function Wb(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=$(t);e.children.has(r)||e.children.set(r,yd());let i=e.children.get(r);t=ee(t),Wb(i,t,n)}}function ov(e,t,n){e.value!==null?n(t,e.value):s1(e,(r,i)=>{let o=new J(t.toString()+"/"+r);ov(i,o,n)})}function s1(e,t){e.children.forEach((n,r)=>{t(r,n)})}var sv=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var eb=10*1e3,a1=30*1e3,c1=5*60*1e3,av=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sv(t);let r=eb+(a1-eb)*Math.random();Ta(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Ke(t,(i,o)=>{o>0&&en(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ta(this.reportStats_.bind(this),Math.floor(Math.random()*2*c1))}};var on=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(on||{});function zb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var cv=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=on.ACK_USER_WRITE,this.source=zb()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(q(),n,this.revert)}}else return _($(this.path)===t,"operationForChild called for unrelated child."),new e(ee(this.path),this.affectedTree,this.revert)}};var Ed=class e{constructor(t,n){this.source=t,this.path=n,this.type=on.LISTEN_COMPLETE}operationForChild(t){return U(this.path)?new e(this.source,q()):new e(this.source,ee(this.path))}};var Po=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=on.OVERWRITE}operationForChild(t){return U(this.path)?new e(this.source,q(),this.snap.getImmediateChild(t)):new e(this.source,ee(this.path),this.snap)}};var Cd=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=on.MERGE}operationForChild(t){if(U(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new Po(this.source,q(),n.value):new e(this.source,q(),n)}else return _($(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var sn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;let n=$(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var lv=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function l1(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(i1(s.childName,s.snapshotNode))}),ba(e,i,"child_removed",t,r,n),ba(e,i,"child_added",t,r,n),ba(e,i,"child_moved",o,r,n),ba(e,i,"child_changed",t,r,n),ba(e,i,"value",t,r,n),i}function ba(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>d1(e,a,c)),s.forEach(a=>{let c=u1(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function u1(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function d1(e,t,n){if(t.childName==null||n.childName==null)throw Kr("Should only compare child_ events.");let r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Md(e,t){return{eventCache:e,serverCache:t}}function Aa(e,t,n,r){return Md(new sn(t,n,r),e.serverCache)}function Gb(e,t,n,r){return Md(e.eventCache,new sn(t,n,r))}function Id(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Mm,f1=()=>(Mm||(Mm=new pt(hL)),Mm),Ze=class e{static fromObject(t){let n=new e(null);return Ke(t,(r,i)=>{n=n.set(new J(r),i)}),n}constructor(t,n=f1()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(U(t))return null;{let r=$(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ee(t),n);return o!=null?{path:Ee(new J(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{let n=$(t),r=this.children.get(n);return r!==null?r.subtree(ee(t)):new e(null)}}set(t,n){if(U(t))return new e(n,this.children);{let r=$(t),o=(this.children.get(r)||new e(null)).set(ee(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(U(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=$(t),r=this.children.get(n);if(r){let i=r.remove(ee(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(U(t))return this.value;{let n=$(t),r=this.children.get(n);return r?r.get(ee(t)):null}}setTree(t,n){if(U(t))return n;{let r=$(t),o=(this.children.get(r)||new e(null)).setTree(ee(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(q(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ee(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,q(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(U(t))return null;{let o=$(t),s=this.children.get(o);return s?s.findOnPath_(ee(t),Ee(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,q(),n)}foreachOnPath_(t,n,r){if(U(t))return this;{this.value&&r(n,this.value);let i=$(t),o=this.children.get(i);return o?o.foreachOnPath_(ee(t),Ee(n,i),r):new e(null)}}foreach(t){this.foreach_(q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ee(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Ft=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ze(null))}};function Na(e,t,n){if(U(t))return new Ft(new Ze(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Le(i,t);return o=o.updateChild(s,n),new Ft(e.writeTree_.set(i,o))}else{let i=new Ze(n),o=e.writeTree_.setTree(t,i);return new Ft(o)}}}function tb(e,t,n){let r=e;return Ke(n,(i,o)=>{r=Na(r,Ee(t,i),o)}),r}function nb(e,t){if(U(t))return Ft.empty();{let n=e.writeTree_.setTree(t,new Ze(null));return new Ft(n)}}function uv(e,t){return hi(e,t)!=null}function hi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Le(n.path,t)):null}function rb(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(se,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function ir(e,t){if(U(t))return e;{let n=hi(e,t);return n!=null?new Ft(new Ze(n)):new Ft(e.writeTree_.subtree(t))}}function dv(e){return e.writeTree_.isEmpty()}function Fo(e,t){return qb(q(),e.writeTree_,t)}function qb(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=qb(Ee(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ee(e,".priority"),r)),n}}function Od(e,t){return Qb(t,e)}function h1(e,t,n,r,i){_(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Na(e.visibleWrites,t,n)),e.lastWriteId=r}function p1(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function g1(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&m1(a,r.path)?i=!1:Pt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return v1(e),!0;if(r.snap)e.visibleWrites=nb(e.visibleWrites,r.path);else{let a=r.children;Ke(a,c=>{e.visibleWrites=nb(e.visibleWrites,Ee(r.path,c))})}return!0}else return!1}function m1(e,t){if(e.snap)return Pt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Pt(Ee(e.path,n),t))return!0;return!1}function v1(e){e.visibleWrites=Yb(e.allWrites,_1,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function _1(e){return e.visible}function Yb(e,t,n){let r=Ft.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)Pt(n,s)?(a=Le(n,s),r=Na(r,a,o.snap)):Pt(s,n)&&(a=Le(s,n),r=Na(r,q(),o.snap.getChild(a)));else if(o.children){if(Pt(n,s))a=Le(n,s),r=tb(r,a,o.children);else if(Pt(s,n))if(a=Le(s,n),U(a))r=tb(r,q(),o.children);else{let c=Qr(o.children,$(a));if(c){let l=c.getChild(ee(a));r=Na(r,q(),l)}}}else throw Kr("WriteRecord should have .snap or .children")}}return r}function Kb(e,t,n,r,i){if(!r&&!i){let o=hi(e.visibleWrites,t);if(o!=null)return o;{let s=ir(e.visibleWrites,t);if(dv(s))return n;if(n==null&&!uv(s,q()))return null;{let a=n||P.EMPTY_NODE;return Fo(s,a)}}}else{let o=ir(e.visibleWrites,t);if(!i&&dv(o))return n;if(!i&&n==null&&!uv(o,q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Pt(l.path,t)||Pt(t,l.path))},a=Yb(e.allWrites,s,t),c=n||P.EMPTY_NODE;return Fo(a,c)}}}function y1(e,t,n){let r=P.EMPTY_NODE,i=hi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(se,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=ir(e.visibleWrites,t);return n.forEachChild(se,(s,a)=>{let c=Fo(ir(o,new J(s)),a);r=r.updateImmediateChild(s,c)}),rb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=ir(e.visibleWrites,t);return rb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function E1(e,t,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ee(t,n);if(uv(e.visibleWrites,o))return null;{let s=ir(e.visibleWrites,o);return dv(s)?i.getChild(n):Fo(s,i.getChild(n))}}function C1(e,t,n,r){let i=Ee(t,n),o=hi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=ir(e.visibleWrites,i);return Fo(s,r.getNode().getImmediateChild(n))}else return null}function I1(e,t){return hi(e.visibleWrites,t)}function w1(e,t,n,r,i,o,s){let a,c=ir(e.visibleWrites,t),l=hi(c,q());if(l!=null)a=l;else if(n!=null)a=Fo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function D1(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function wd(e,t,n,r){return Kb(e.writeTree,e.treePath,t,n,r)}function Fv(e,t){return y1(e.writeTree,e.treePath,t)}function ib(e,t,n,r){return E1(e.writeTree,e.treePath,t,n,r)}function Dd(e,t){return I1(e.writeTree,Ee(e.treePath,t))}function b1(e,t,n,r,i,o){return w1(e.writeTree,e.treePath,t,n,r,i,o)}function Lv(e,t,n){return C1(e.writeTree,e.treePath,t,n)}function Zb(e,t){return Qb(Ee(e.treePath,t),e.writeTree)}function Qb(e,t){return{treePath:e,writeTree:t}}var fv=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Oa(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ma(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,xo(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Oa(r,t.snapshotNode,i.oldSnap));else throw Kr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var hv=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},Jb=new hv,xa=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new sn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lv(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),o=b1(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function T1(e){return{filter:e}}function S1(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function A1(e,t,n,r,i){let o=new fv,s,a;if(n.type===on.OVERWRITE){let l=n;l.source.fromUser?s=pv(e,t,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!U(l.path),s=bd(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===on.MERGE){let l=n;l.source.fromUser?s=R1(e,t,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=gv(e,t,l.path,l.children,r,i,a,o))}else if(n.type===on.ACK_USER_WRITE){let l=n;l.revert?s=k1(e,t,l.path,r,i,o):s=M1(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===on.LISTEN_COMPLETE)s=O1(e,t,n.path,r,o);else throw Kr("Unknown operation type: "+n.type);let c=o.getChanges();return N1(t,s,c),{viewCache:s,changes:c}}function N1(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Id(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push($b(Id(t)))}}function Xb(e,t,n,r,i,o){let s=t.eventCache;if(Dd(r,n)!=null)return t;{let a,c;if(U(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=fi(t),u=l instanceof P?l:P.EMPTY_NODE,d=Fv(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=wd(r,fi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=$(n);if(l===".priority"){_(sr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=ib(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ee(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=ib(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Lv(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Aa(t,a,s.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function bd(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(U(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=$(n);if(!c.isCompleteForPath(n)&&sr(n)>1)return t;let p=ee(n),D=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),D):l=u.updateChild(c.getNode(),h,D,p,Jb,null)}let d=Gb(t,l,c.isFullyInitialized()||U(n),u.filtersNodes()),f=new xa(i,d,o);return Xb(e,d,n,i,f,a)}function pv(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new xa(i,t,o);if(U(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Aa(t,l,!0,e.filter.filtersNodes());else{let d=$(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Aa(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=ee(n),h=a.getNode().getImmediateChild(d),p;if(U(f))p=r;else{let y=u.getCompleteChild(d);y!=null?xb(f)===".priority"&&y.getChild(Fb(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=P.EMPTY_NODE}if(h.equals(p))c=t;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=Aa(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function ob(e,t){return e.eventCache.isCompleteForChild(t)}function R1(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Ee(n,c);ob(t,$(u))&&(a=pv(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ee(n,c);ob(t,$(u))||(a=pv(e,a,u,l,i,o,s))}),a}function sb(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function gv(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;U(n)?l=r:l=new Ze(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=sb(e,h,f);c=bd(e,c,new J(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),y=sb(e,p,f);c=bd(e,c,new J(d),y,i,o,s,a)}}),c}function M1(e,t,n,r,i,o,s){if(Dd(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(U(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bd(e,t,n,c.getNode().getChild(n),i,o,a,s);if(U(n)){let l=new Ze(null);return c.getNode().forEachChild(No,(u,d)=>{l=l.set(new J(u),d)}),gv(e,t,n,l,i,o,a,s)}else return t}else{let l=new Ze(null);return r.foreach((u,d)=>{let f=Ee(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),gv(e,t,n,l,i,o,a,s)}}function O1(e,t,n,r,i){let o=t.serverCache,s=Gb(t,o.getNode(),o.isFullyInitialized()||U(n),o.isFiltered());return Xb(e,s,n,r,Jb,i)}function k1(e,t,n,r,i,o){let s;if(Dd(r,n)!=null)return t;{let a=new xa(r,t,i),c=t.eventCache.getNode(),l;if(U(n)||$(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=wd(r,fi(t));else{let d=t.serverCache.getNode();_(d instanceof P,"serverChildren would be complete if leaf node"),u=Fv(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=$(n),d=Lv(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,ee(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,P.EMPTY_NODE,ee(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wd(r,fi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Dd(r,q())!=null,Aa(t,l,s,e.filter.filtersNodes())}}var mv=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ka(r.getIndex()),o=o1(r);this.processor_=T1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(P.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(P.EMPTY_NODE,a.getNode(),null),u=new sn(c,s.isFullyInitialized(),i.filtersNodes()),d=new sn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Md(d,u),this.eventGenerator_=new lv(this.query_)}get query(){return this.query_}};function x1(e){return e.viewCache_.serverCache.getNode()}function P1(e){return Id(e.viewCache_)}function F1(e,t){let n=fi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild($(t)).isEmpty())?n.getChild(t):null}function ab(e){return e.eventRegistrations_.length===0}function L1(e,t){e.eventRegistrations_.push(t)}function cb(e,t,n){let r=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function lb(e,t,n,r){t.type===on.MERGE&&t.source.queryId!==null&&(_(fi(e.viewCache_),"We should always have a full cache before handling merges"),_(Id(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=A1(e.processor_,i,t,n,r);return S1(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,eT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function V1(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(se,(o,s)=>{r.push(xo(o,s))}),n.isFullyInitialized()&&r.push($b(n.getNode())),eT(e,r,n.getNode(),t)}function eT(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return l1(e.eventGenerator_,t,n,i)}var Td,Sd=class{constructor(){this.views=new Map}};function j1(e){_(!Td,"__referenceConstructor has already been defined"),Td=e}function U1(){return _(Td,"Reference.ts has not been loaded"),Td}function B1(e){return e.views.size===0}function Vv(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),lb(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(lb(s,t,n,r));return o}}function tT(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=wd(n,i?r:null),c=!1;a?c=!0:r instanceof P?(a=Fv(n,r),c=!1):(a=P.EMPTY_NODE,c=!1);let l=Md(new sn(a,c,!1),new sn(r,i,!1));return new mv(t,l)}return s}function H1(e,t,n,r,i,o){let s=tT(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),L1(s,n),V1(s,n)}function $1(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=ar(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(cb(l,n,r)),ab(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(cb(c,n,r)),ab(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!ar(e)&&o.push(new(U1())(t._repo,t._path)),{removed:o,events:s}}function nT(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function or(e,t){let n=null;for(let r of e.views.values())n=n||F1(r,t);return n}function rT(e,t){if(t._queryParams.loadsAllData())return kd(e);{let r=t._queryIdentifier;return e.views.get(r)}}function iT(e,t){return rT(e,t)!=null}function ar(e){return kd(e)!=null}function kd(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Ad;function W1(e){_(!Ad,"__referenceConstructor has already been defined"),Ad=e}function z1(){return _(Ad,"Reference.ts has not been loaded"),Ad}var G1=1,Nd=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=D1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function oT(e,t,n,r,i){return h1(e.pendingWriteTree_,t,n,r,i),i?Ha(e,new Po(zb(),t,n)):[]}function li(e,t,n=!1){let r=p1(e.pendingWriteTree_,t);if(g1(e.pendingWriteTree_,t)){let o=new Ze(null);return r.snap!=null?o=o.set(q(),!0):Ke(r.children,s=>{o=o.set(new J(s),!0)}),Ha(e,new cv(r.path,o,n))}else return[]}function Ba(e,t,n){return Ha(e,new Po(xv(),t,n))}function q1(e,t,n){let r=Ze.fromObject(n);return Ha(e,new Cd(xv(),t,r))}function Y1(e,t){return Ha(e,new Ed(xv(),t))}function K1(e,t,n){let r=Uv(e,n);if(r){let i=Bv(r),o=i.path,s=i.queryId,a=Le(o,t),c=new Ed(Pv(s),a);return Hv(e,o,c)}else return[]}function sT(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||iT(s,t))){let c=$1(s,t,n,r);B1(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>ar(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=X1(f);for(let p=0;p<h.length;++p){let y=h[p],D=y.query,S=uT(e,y);e.listenProvider_.startListening(Ra(D),Pa(e,D),S.hashFn,S.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Ra(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(xd(f));e.listenProvider_.stopListening(Ra(f),h)}))}eV(e,l)}return a}function aT(e,t,n,r){let i=Uv(e,r);if(i!=null){let o=Bv(i),s=o.path,a=o.queryId,c=Le(s,t),l=new Po(Pv(a),c,n);return Hv(e,s,l)}else return[]}function Z1(e,t,n,r){let i=Uv(e,r);if(i){let o=Bv(i),s=o.path,a=o.queryId,c=Le(s,t),l=Ze.fromObject(n),u=new Cd(Pv(a),c,l);return Hv(e,s,u)}else return[]}function Q1(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Le(f,i);o=o||or(h,p),s=s||ar(h)});let a=e.syncPointTree_.get(i);a?(s=s||ar(a),o=o||or(a,q())):(a=new Sd,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=P.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=or(p,q());y&&(o=o.updateImmediateChild(h,y))}));let l=iT(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=xd(t);_(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=tV();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Od(e.pendingWriteTree_,i),d=H1(a,t,n,u,o,c);if(!l&&!s&&!r){let f=rT(a,t);d=d.concat(nV(e,t,f))}return d}function jv(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Le(s,t),l=or(a,c);if(l)return l});return Kb(i,t,o,n,!0)}function J1(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Le(l,n);r=r||or(u,d)});let i=e.syncPointTree_.get(n);i?r=r||or(i,q()):(i=new Sd,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new sn(r,!0,!1):null,a=Od(e.pendingWriteTree_,t._path),c=tT(i,t,a,o?s.getNode():P.EMPTY_NODE,o);return P1(c)}function Ha(e,t){return cT(t,e.syncPointTree_,null,Od(e.pendingWriteTree_,q()))}function cT(e,t,n,r){if(U(e.path))return lT(e,t,n,r);{let i=t.get(q());n==null&&i!=null&&(n=or(i,q()));let o=[],s=$(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=Zb(r,s);o=o.concat(cT(a,c,l,u))}return i&&(o=o.concat(Vv(i,e,r,n))),o}}function lT(e,t,n,r){let i=t.get(q());n==null&&i!=null&&(n=or(i,q()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=Zb(r,s),u=e.operationForChild(s);u&&(o=o.concat(lT(u,a,c,l)))}),i&&(o=o.concat(Vv(i,e,r,n))),o}function uT(e,t){let n=t.query,r=Pa(e,n);return{hashFn:()=>(x1(t)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?K1(e,n._path,r):Y1(e,n._path);{let o=mL(i,n);return sT(e,n,null,o)}}}}function Pa(e,t){let n=xd(t);return e.queryToTagMap.get(n)}function xd(e){return e._path.toString()+"$"+e._queryIdentifier}function Uv(e,t){return e.tagToQueryMap.get(t)}function Bv(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function Hv(e,t,n){let r=e.syncPointTree_.get(t);_(r,"Missing sync point for query tag that we're tracking");let i=Od(e.pendingWriteTree_,t);return Vv(r,n,i,null)}function X1(e){return e.fold((t,n,r)=>{if(n&&ar(n))return[kd(n)];{let i=[];return n&&(i=nT(n)),Ke(r,(o,s)=>{i=i.concat(s)}),i}})}function Ra(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(z1())(e._repo,e._path):e}function eV(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=xd(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function tV(){return G1++}function nV(e,t,n){let r=t._path,i=Pa(e,t),o=uT(e,n),s=e.listenProvider_.startListening(Ra(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)_(!ar(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!U(l)&&u&&ar(u))return[kd(u).query];{let f=[];return u&&(f=f.concat(nT(u).map(h=>h.query))),Ke(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Ra(u),Pa(e,u))}}return s}var vv=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},_v=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Ee(this.path_,t);return new e(this.syncTree_,n)}node(){return jv(this.syncTree_,this.path_)}},rV=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ub=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return iV(e[".sv"],t,n);if(typeof e[".sv"]=="object")return oV(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},iV=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},oV=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=t.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},sV=function(e,t,n,r){return $v(t,new _v(n,e),r)},dT=function(e,t,n){return $v(e,new vv(t),n)};function $v(e,t,n){let r=e.getPriority().val(),i=ub(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=ub(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Oo(a,we(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Oo(i))),s.forEachChild(se,(a,c)=>{let l=$v(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Fa=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Wv(e,t){let n=t instanceof J?t:new J(t),r=e,i=$(n);for(;i!==null;){let o=Qr(r.node.children,i)||{children:{},childCount:0};r=new Fa(i,r,o),n=ee(n),i=$(n)}return r}function jo(e){return e.node.value}function fT(e,t){e.node.value=t,yv(e)}function hT(e){return e.node.childCount>0}function aV(e){return jo(e)===void 0&&!hT(e)}function Pd(e,t){Ke(e.node.children,(n,r)=>{t(new Fa(n,e,r))})}function pT(e,t,n,r){n&&!r&&t(e),Pd(e,i=>{pT(i,t,!0,r)}),n&&r&&t(e)}function cV(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $a(e){return new J(e.parent===null?e.name:$a(e.parent)+"/"+e.name)}function yv(e){e.parent!==null&&lV(e.parent,e.name,e)}function lV(e,t,n){let r=aV(n),i=en(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,yv(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,yv(e))}var uV=/[\[\].#$\/\u0000-\u001F\u007F]/,dV=/[\[\].#$\u0000-\u001F\u007F]/,Om=10*1024*1024,gT=function(e){return typeof e=="string"&&e.length!==0&&!uV.test(e)},mT=function(e){return typeof e=="string"&&e.length!==0&&!dV.test(e)},fV=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mT(e)};var hV=function(e,t,n,r){r&&t===void 0||zv(Hu(e,"value"),t,n)},zv=function(e,t,n){let r=n instanceof J?new Gm(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ai(r));if(typeof t=="function")throw new Error(e+"contains a function "+ai(r)+" with contents = "+t.toString());if(mb(t))throw new Error(e+"contains "+t.toString()+" "+ai(r));if(typeof t=="string"&&t.length>Om/3&&ua(t)>Om)throw new Error(e+"contains a string greater than "+Om+" utf8 bytes "+ai(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Ke(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!gT(s)))throw new Error(e+" contains an invalid key ("+s+") "+ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zL(r,s),zv(e,a,r),GL(r)}),i&&o)throw new Error(e+' contains ".value" child '+ai(r)+" in addition to actual children.")}};var vT=function(e,t,n,r){if(!(r&&n===void 0)&&!mT(n))throw new Error(Hu(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pV=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vT(e,t,n,r)},gV=function(e,t){if($(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},mV=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gT(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fV(n))throw new Error(Hu(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ev=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function _T(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!Lb(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function an(e,t,n){_T(e,n),vV(e,r=>Pt(r,t)||Pt(t,r))}function vV(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(_V(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _V(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();ui&&ke("event: "+n.toString()),Vo(r)}}}var yV="repo_interrupt",EV=25,Cv=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ev,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yd(),this.transactionQueueTree_=new Fa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function CV(e,t,n){if(e.stats_=Mv(e.repoInfo_),e.forceRestClient_||EL())e.server_=new rv(e.repoInfo_,(r,i,o,s)=>{db(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>fb(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ov(e.repoInfo_,t,(r,i,o,s)=>{db(e,r,i,o,s)},r=>{fb(e,r)},r=>{wV(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=IL(e.repoInfo_,()=>new av(e.stats_,e.server_)),e.infoData_=new iv,e.infoSyncTree_=new Nd({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Ba(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),qv(e,"connected",!1),e.serverSyncTree_=new Nd({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);an(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function IV(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gv(e){return rV({timestamp:IV(e)})}function db(e,t,n,r,i){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=ca(n,l=>we(l));s=Z1(e.serverSyncTree_,o,c,i)}else{let c=we(n);s=aT(e.serverSyncTree_,o,c,i)}else if(r){let c=ca(n,l=>we(l));s=q1(e.serverSyncTree_,o,c)}else{let c=we(n);s=Ba(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ld(e,o)),an(e.eventQueue_,a,s)}function fb(e,t){qv(e,"connected",t),t===!1&&TV(e)}function wV(e,t){Ke(t,(n,r)=>{qv(e,n,r)})}function qv(e,t,n){let r=new J("/.info/"+t),i=we(n);e.infoData_.updateSnapshot(r,i);let o=Ba(e.infoSyncTree_,r,i);an(e.eventQueue_,r,o)}function yT(e){return e.nextWriteId_++}function DV(e,t,n){let r=J1(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=we(i).withIndex(t._queryParams.getIndex());Q1(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Ba(e.serverSyncTree_,t._path,o);else{let a=Pa(e.serverSyncTree_,t);s=aT(e.serverSyncTree_,t._path,o,a)}return an(e.eventQueue_,t._path,s),sT(e.serverSyncTree_,t,n,null,!0),o},i=>(Fd(e,"get for query "+me(t)+" failed: "+i),Promise.reject(new Error(i))))}function bV(e,t,n,r,i){Fd(e,"set",{path:t.toString(),value:n,priority:r});let o=Gv(e),s=we(n,r),a=jv(e.serverSyncTree_,t),c=dT(s,a,o),l=yT(e),u=oT(e.serverSyncTree_,t,c,l,!0);_T(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Ye("set at "+t+" failed: "+f);let y=li(e.serverSyncTree_,l,!p);an(e.eventQueue_,t,y),AV(e,i,f,h)});let d=DT(e,t);Ld(e,d),an(e.eventQueue_,d,[])}function TV(e){Fd(e,"onDisconnectEvents");let t=Gv(e),n=yd();ov(e.onDisconnect_,q(),(i,o)=>{let s=sV(i,o,e.serverSyncTree_,t);Wb(n,i,s)});let r=[];ov(n,q(),(i,o)=>{r=r.concat(Ba(e.serverSyncTree_,i,o));let s=DT(e,i);Ld(e,s)}),e.onDisconnect_=yd(),an(e.eventQueue_,q(),r)}function SV(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yV)}function Fd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ke(n,...t)}function AV(e,t,n,r){t&&Vo(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function ET(e,t,n){return jv(e.serverSyncTree_,t,n)||P.EMPTY_NODE}function Yv(e,t=e.transactionQueueTree_){if(t||Vd(e,t),jo(t)){let n=IT(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&NV(e,$a(t),n)}else hT(t)&&Pd(t,n=>{Yv(e,n)})}function NV(e,t,n){let r=n.map(l=>l.currentWriteId),i=ET(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Le(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Fd(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(li(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Vd(e,Wv(e.transactionQueueTree_,t)),Yv(e,e.transactionQueueTree_),an(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Vo(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Ld(e,t)}},s)}function Ld(e,t){let n=CT(e,t),r=$a(n),i=IT(e,n);return RV(e,i,r),r}function RV(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Le(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(li(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=EV)u=!0,d="maxretry",i=i.concat(li(e.serverSyncTree_,c.currentWriteId,!0));else{let f=ET(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){zv("transaction failed: Data returned ",h,c.path);let p=we(h);typeof h=="object"&&h!=null&&en(h,".priority")||(p=p.updatePriority(f.getPriority()));let D=c.currentWriteId,S=Gv(e),Ve=dT(p,f,S);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=Ve,c.currentWriteId=yT(e),s.splice(s.indexOf(D),1),i=i.concat(oT(e.serverSyncTree_,c.path,Ve,c.currentWriteId,c.applyLocally)),i=i.concat(li(e.serverSyncTree_,D,!0))}else u=!0,d="nodata",i=i.concat(li(e.serverSyncTree_,c.currentWriteId,!0))}an(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Vd(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Vo(r[a]);Yv(e,e.transactionQueueTree_)}function CT(e,t){let n,r=e.transactionQueueTree_;for(n=$(t);n!==null&&jo(r)===void 0;)r=Wv(r,n),t=ee(t),n=$(t);return r}function IT(e,t){let n=[];return wT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function wT(e,t,n){let r=jo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pd(t,i=>{wT(e,i,n)})}function Vd(e,t){let n=jo(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fT(t,n.length>0?n:void 0)}Pd(t,r=>{Vd(e,r)})}function DT(e,t){let n=$a(CT(e,t)),r=Wv(e.transactionQueueTree_,t);return cV(r,i=>{km(e,i)}),km(e,r),pT(r,i=>{km(e,i)}),n}function km(e,t){let n=jo(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(li(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?fT(t,void 0):n.length=o+1,an(e.eventQueue_,$a(t),i);for(let s=0;s<r.length;s++)Vo(r[s])}}function MV(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function OV(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${e}'`)}return t}var hb=function(e,t){let n=kV(e),r=n.namespace;n.domain==="firebase.com"&&Dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dd(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new J(n.pathString)}},kV=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=MV(e.substring(u,d)));let f=OV(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Iv=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+me(this.snapshot.exportVal())}},wv=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Dv=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var bv=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:xb(this._path)}get ref(){return new bn(this._repo,this._path)}get _queryIdentifier(){let t=XD(this._queryParams),n=Rv(t);return n==="{}"?"default":n}get _queryObject(){return XD(this._queryParams)}isEqual(t){if(t=it(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=Lb(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+WL(this._path)}};var bn=class e extends bv{constructor(t,n){super(t,n,new nv,!1)}get parent(){let t=Fb(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Rd=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),r=La(this.ref,t);return new e(this._node.getChild(n),r,se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,La(this.ref,r),se)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function bT(e,t){return e=it(e),e._checkNotDeleted("ref"),t!==void 0?La(e._root,t):e._root}function La(e,t){return e=it(e),$(e._path)===null?pV("child","path",t,!1):vT("child","path",t,!1),new bn(e._repo,Ee(e._path,t))}function TT(e,t){e=it(e),gV("set",e._path),hV("set",t,e._path,!1);let n=new Nt;return bV(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function ST(e){e=it(e);let t=new Dv(()=>{}),n=new Tv(t);return DV(e._repo,e,n).then(r=>new Rd(r,new bn(e._repo,e._path),e._queryParams.getIndex()))}var Tv=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Iv("value",this,new Rd(t.snapshotNode,new bn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new wv(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};j1(bn);W1(bn);var xV="FIREBASE_DATABASE_EMULATOR_HOST",Sv={},PV=!1;function FV(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Zr(o);e.repoInfo_=new dd(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function LV(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=hb(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[xV]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=hb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Sa(Sa.OWNER):new jm(e.name,e.options,t);mV("Invalid Firebase Database URL",s),U(s.path)||Dn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=jV(a,e,u,new Vm(e,n));return new Av(d,e)}function VV(e,t){let n=Sv[t];(!n||n[e.key]!==e)&&Dn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),SV(e),delete n[e.key]}function jV(e,t,n,r){let i=Sv[t.name];i||(i={},Sv[t.name]=i);let o=i[e.toURLString()];return o&&Dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cv(e,PV,n,r),i[e.toURLString()]=o,o}var Av=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bn(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Dn("Cannot call "+t+" on a deleted database.")}};function AT(e=wo(),t){let n=zu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=kw("database");r&&NT(n,...r)}return n}function NT(e,t,n,r={}){e=it(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Jr(r,o.repoInfo_.emulatorOptions))return;Dn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sa(Sa.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:Pw(r.mockUserToken,e.app.options.projectId);s=new Sa(a)}Zr(t)&&(Wg(t),zg("Database",!0)),FV(o,i,r,s)}function UV(e){cL(Io),Ot(new Fe("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return LV(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),le(FD,LD,e),le(FD,LD,"esm2017")}Ov.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ov.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};UV();var Wa=class{constructor(t){return t}},RT="database",Kv=class{constructor(){return bo(RT)}};var Zv=new C("angularfire2.database-instances");function BV(e,t){let n=Yu(RT,e,t);return n&&new Wa(n)}function HV(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Wa(r)}}var $V={provide:Kv,deps:[[new $t,Zv]]},WV={provide:Wa,useFactory:BV,deps:[[new $t,Zv],ri]};function MT(e,...t){return le("angularfire",ti.full,"rtdb"),gn([WV,$V,{provide:Zv,useFactory:HV(e),multi:!0,deps:[X,fe,ni,pa,[new $t,cd],[new $t,Zu],...t]}])}var OT=rn(La,!0,2);var kT=rn(ST,!0),jd=rn(AT,!0);var Qv=rn(bT,!0,2);var xT=rn(TT,!0,2);var Ud=class e{db=jd();saveCartData(t){return xT(Qv(this.db,"cart"),t)}getCartData(){let t=Qv(this.db);return kT(OT(t,"cart"))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};var cr=class e{constructor(t){this.firebaseService=t}items=[];addToCart(t){this.items.push(t)}getItems(){return this.items}removeItem(t){this.items.splice(t,1)}clearCart(){this.items=[]}saveCart(){return this.firebaseService.saveCartData(this.items).then(()=>{console.log("Cart saved to Firebase!")}).catch(t=>{console.error("Error saving cart:",t)})}loadCart(){return this.firebaseService.getCartData().then(t=>{t.exists()?(this.items=t.val(),console.log("Cart loaded from Firebase:",this.items)):console.log("No cart data found in Firebase.")}).catch(t=>{console.error("Error loading cart:",t)})}static \u0275fac=function(n){return new(n||e)(T(Ud))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};var GV=()=>["/recipes"],qV=()=>["/cart"],Bd=class e{constructor(t){this.cartService=t}searchTerm="";cartCount=0;ngOnInit(){this.updateCartCount()}searchRecipes(){console.log("Searching for:",this.searchTerm)}addToCart(t){this.cartService.addToCart(t),this.updateCartCount()}updateCartCount(){this.cartCount=this.cartService.getItems().length}static \u0275fac=function(n){return new(n||e)(W(cr))};static \u0275cmp=xe({type:e,selectors:[["app-home"]],decls:43,vars:6,consts:[[1,"home-wrapper"],[1,"hero-banner"],[1,"search-bar"],["type","text","placeholder","Search recipes...",3,"ngModelChange","ngModel"],[1,"btn","cart-btn",3,"click"],[1,"nav-buttons"],[1,"btn","recipes-btn",3,"routerLink"],[1,"btn","cart-btn",3,"routerLink"],[1,"preview-section"],[1,"recipe-preview"],[1,"recipe-card"],["src","assets/images/pasta.jpeg","alt","Pasta"],["src","assets/images/chicken.jpeg","alt","Grilled Chicken"],["src","assets/images/salad.jpeg","alt","Fresh Garden Salad"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"header",1)(2,"h1"),N(3,"Welcome to Recipe Central"),b(),w(4,"p"),N(5,"Your go-to place for home-cooked inspiration and delightful dishes."),b(),w(6,"div",2)(7,"input",3),Bl("ngModelChange",function(o){return Mp(r.searchTerm,o)||(r.searchTerm=o),o}),b(),w(8,"button",4),ge("click",function(){return r.searchRecipes()}),N(9,"Search"),b()(),w(10,"div",5)(11,"button",6),N(12,"Go to Recipes"),b(),w(13,"button",7),N(14),b()()(),w(15,"section",8)(16,"h2"),N(17,"Popular Recipes"),b(),w(18,"div",9)(19,"div",10),qe(20,"img",11),w(21,"h3"),N(22,"Creamy Garlic Pasta"),b(),w(23,"p"),N(24,"Rich, creamy, and perfect for cozy nights in."),b(),w(25,"button",4),ge("click",function(){return r.addToCart({name:"Creamy Garlic Pasta"})}),N(26,"Add to Cart"),b()(),w(27,"div",10),qe(28,"img",12),w(29,"h3"),N(30,"Grilled Chicken"),b(),w(31,"p"),N(32,"Juicy, herby chicken cooked to perfection."),b(),w(33,"button",4),ge("click",function(){return r.addToCart({name:"Grilled Chicken"})}),N(34,"Add to Cart"),b()(),w(35,"div",10),qe(36,"img",13),w(37,"h3"),N(38,"Fresh Garden Salad"),b(),w(39,"p"),N(40,"Colorful, crisp, and bursting with so much flavor."),b(),w(41,"button",4),ge("click",function(){return r.addToCart({name:"Fresh Garden Salad"})}),N(42,"Add to Cart"),b()()()()()),n&2&&(ie(7),Ul("ngModel",r.searchTerm),ie(4),Oe("routerLink",$l(4,GV)),ie(2),Oe("routerLink",$l(5,qV)),ie(),Yn("\u{1F6D2} View Cart (",r.cartCount,")"))},dependencies:[zt,Xs,go,Dw,Fu,Cw,Fg],styles:[".home-wrapper[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}.hero-banner[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:15px 0;gap:10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;width:200px}button[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}a[_ngcontent-%COMP%]{margin-left:10px;color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.preview-section[_ngcontent-%COMP%]{margin-top:40px}.recipe-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.recipe-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;text-align:center;box-shadow:2px 2px 8px #0000001a}.recipe-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:4px}.recipe-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.recipe-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#555}button[routerLink][_ngcontent-%COMP%]{background-color:#e08900;border:1px solid #ccc;border-radius:4px;padding:8px 12px;cursor:pointer}button[routerLink][_ngcontent-%COMP%]:hover{background-color:#eaeaea}.nav-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:20px}.btn[_ngcontent-%COMP%]{padding:12px 24px;min-width:180px;font-size:16px;font-weight:700;text-align:center;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background-color .3s ease;border:none}.recipes-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.recipes-btn[_ngcontent-%COMP%]:hover{background-color:#e08700}.cart-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.cart-btn[_ngcontent-%COMP%]:hover{background-color:#e08700}"]})};function YV(e,t){if(e&1){let n=Gn();w(0,"li"),N(1),w(2,"button",6),ge("click",function(){let i=Ct(n).$implicit,o=dt(2);return It(o.removeFromShoppingList(i))}),N(3,"Remove"),b()()}if(e&2){let n=t.$implicit;ie(),Yn(" ",n," ")}}function KV(e,t){if(e&1&&(w(0,"div",4)(1,"h2"),N(2,"Your Shopping List"),b(),w(3,"ul"),Dt(4,YV,4,1,"li",5),b()()),e&2){let n=dt();ie(4),Oe("ngForOf",n.shoppingList)}}function ZV(e,t){if(e&1){let n=Gn();w(0,"li"),N(1),w(2,"button",6),ge("click",function(){let i=Ct(n).$implicit,o=dt(2);return It(o.addToShoppingList(i))}),N(3,"Add"),b()()}if(e&2){let n=t.$implicit;ie(),Yn(" ",n," ")}}function QV(e,t){if(e&1&&(w(0,"li"),N(1),b()),e&2){let n=t.$implicit;ie(),qn(n)}}function JV(e,t){if(e&1){let n=Gn();w(0,"div",7)(1,"h1"),N(2),b(),qe(3,"img",8),w(4,"p"),N(5),b(),w(6,"button",9),ge("click",function(){let i=Ct(n).$implicit,o=dt();return It(o.addToCart(i))}),N(7,"Add to Cart"),b(),w(8,"section",10)(9,"h2"),N(10,"Ingredients"),b(),w(11,"ul"),Dt(12,ZV,4,1,"li",5),b()(),w(13,"section",11)(14,"h2"),N(15,"Instructions"),b(),w(16,"ol"),Dt(17,QV,2,1,"li",5),b()()()}if(e&2){let n=t.$implicit;ie(2),qn(n.name),ie(),Oe("alt",Ds(n.name))("src",n.name==="Creamy Garlic Pasta"?"assets/images/pasta.jpeg":n.name==="Grilled Chicken"?"assets/images/chicken.jpeg":n.name==="Fresh Garden Salad"?"assets/images/salad.jpeg":"",Zi),ie(2),qn(n.description),ie(7),Oe("ngForOf",n.ingredients),ie(5),Oe("ngForOf",n.instructions)}}var Hd=class e{constructor(t){this.cartService=t}shoppingList=[];recipes=[{name:"Creamy Garlic Pasta",description:"A rich and creamy garlic pasta that\u2019s quick and delicious!",imageUrl:"assets/images/pasta.jpeg",ingredients:["Pasta","Garlic","Cream","Parmesan","Salt","Pepper"],instructions:["Boil the pasta until al dente.","Saut\xE9 garlic in butter.","Add cream and simmer.","Mix in parmesan cheese.","Combine with pasta and serve."]},{name:"Grilled Chicken",description:"Juicy, herby grilled chicken perfect for summer meals.",imageUrl:"assets/images/chicken.jpeg",ingredients:["Chicken breast","Olive oil","Lemon","Herbs","Salt","Pepper"],instructions:["Marinate chicken in oil, lemon, and herbs.","Preheat grill to medium-high.","Grill chicken 5\u20136 minutes per side.","Rest before serving."]},{name:"Fresh Garden Salad",description:"A refreshing, colorful mix of garden vegetables.",imageUrl:"assets/images/salad.jpeg",ingredients:["Lettuce","Tomatoes","Cucumber","Carrots","Vinaigrette"],instructions:["Chop all vegetables.","Toss with vinaigrette.","Serve chilled."]}];addToShoppingList(t){this.shoppingList.includes(t)||this.shoppingList.push(t)}removeFromShoppingList(t){this.shoppingList=this.shoppingList.filter(n=>n!==t)}addToCart(t){this.cartService.addToCart({name:t.name,image:t.imageUrl,description:t.description})}static \u0275fac=function(n){return new(n||e)(W(cr))};static \u0275cmp=xe({type:e,selectors:[["app-recipe-view"]],decls:4,vars:2,consts:[["class","shopping-float",4,"ngIf"],[1,"recipe-container"],[1,"recipe-list"],["class","recipe-details",4,"ngFor","ngForOf"],[1,"shopping-float"],[4,"ngFor","ngForOf"],[3,"click"],[1,"recipe-details"],[2,"width","150px","height","auto","border-radius","8px",3,"src","alt"],[1,"btn","cart-btn",3,"click"],[1,"ingredients"],[1,"instructions"]],template:function(n,r){n&1&&(Dt(0,KV,5,1,"div",0),w(1,"div",1)(2,"div",2),Dt(3,JV,18,7,"div",3),b()()),n&2&&(Oe("ngIf",r.shoppingList.length>0),ie(3),Oe("ngForOf",r.recipes))},dependencies:[zt,eo,Ns],styles:[".page-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:40px;padding:40px 20px}.shopping-sidebar[_ngcontent-%COMP%]{width:250px;background-color:#fefae0;padding:20px;border-radius:12px;box-shadow:0 4px 12px #0000000d;position:sticky;top:30px;height:fit-content}.shopping-sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:15px;color:#5d4037}.shopping-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.shopping-sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #ddd}.shopping-sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ef5350;color:#fff;border:none;padding:4px 10px;border-radius:4px;cursor:pointer}.shopping-sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.recipe-list[_ngcontent-%COMP%]{flex:1}.recipe-details[_ngcontent-%COMP%]{max-width:800px;margin-bottom:40px;padding:30px;background-color:#fff;border-radius:16px;box-shadow:0 6px 18px #00000014;font-family:Segoe UI,sans-serif;color:#333}.recipe-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:2.4rem;margin-bottom:20px;color:#e64a19}.recipe-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;max-height:350px;object-fit:cover;border-radius:12px;margin-bottom:25px}.recipe-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;text-align:center;margin-bottom:35px}.ingredients[_ngcontent-%COMP%], .instructions[_ngcontent-%COMP%]{margin-bottom:30px}.ingredients[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .instructions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;color:#444;margin-bottom:15px;border-bottom:2px solid #ff7043;display:inline-block;padding-bottom:5px}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:20px}.ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .instructions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1rem;color:#666}.shopping-float[_ngcontent-%COMP%]{position:fixed;top:100px;right:30px;width:250px;background-color:#fefae0;padding:20px;border-radius:12px;box-shadow:0 4px 12px #0000001a;z-index:1000}.shopping-float[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:15px;color:#5d4037}.shopping-float[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.shopping-float[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #ddd}.shopping-float[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ef5350;color:#fff;border:none;padding:2px 8px;border-radius:4px;cursor:pointer;font-size:.8rem}.shopping-float[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.recipe-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px}"]})};var $d=class e{recipes=[{name:"Creamy Garlic Pasta",ingredients:["Pasta","Garlic","Cream","Parmesan","Salt","Pepper"]},{name:"Grilled Chicken",ingredients:["Chicken breast","Olive oil","Lemon","Herbs","Salt","Pepper"]},{name:"Fresh Garden Salad",ingredients:["Lettuce","Tomatoes","Cucumber","Carrots","Vinaigrette"]}];uniqueIngredients=[];constructor(){let t=this.recipes.flatMap(n=>n.ingredients);this.uniqueIngredients=Array.from(new Set(t)).sort()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=xe({type:e,selectors:[["app-ingredients-view"]],decls:2,vars:0,template:function(n,r){n&1&&(xl(0,"p"),N(1,"ingredients-view works!"),Pl())},dependencies:[zt],styles:[".ingredients-page[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;font-family:Segoe UI,sans-serif;background:#fff8e1;padding:30px;border-radius:12px;box-shadow:0 4px 12px #00000012}.ingredients-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#ff7043}.ingredients-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.ingredients-page[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.1rem;padding:8px 0;border-bottom:1px solid #ddd}"]})};function XV(e,t){if(e&1){let n=Gn();w(0,"div",8),qe(1,"img",9),w(2,"h3"),N(3),b(),w(4,"p",10),N(5,"Delicious choice to add to your meal lineup!"),b(),w(6,"button",6),ge("click",function(){let i=Ct(n).index,o=dt(2);return It(o.removeItem(i))}),N(7,"Remove"),b()()}if(e&2){let n=t.$implicit;ie(),Oe("alt",Ds(n.name))("src",n.name==="Creamy Garlic Pasta"?"assets/images/pasta.jpeg":n.name==="Grilled Chicken"?"assets/images/chicken.jpeg":n.name==="Fresh Garden Salad"?"assets/images/salad.jpeg":"",Zi),ie(2),qn(n.name)}}function ej(e,t){if(e&1){let n=Gn();Fl(0),w(1,"div",3),Dt(2,XV,8,4,"div",4),b(),w(3,"div",5)(4,"button",6),ge("click",function(){Ct(n);let i=dt();return It(i.clearCart())}),N(5,"Clear Cart"),b(),w(6,"button",7),N(7,"Continue Shopping"),b(),w(8,"button",6),ge("click",function(){Ct(n);let i=dt();return It(i.saveCartToFirebase())}),N(9,"Save Cart to Firebase"),b(),w(10,"button",6),ge("click",function(){Ct(n);let i=dt();return It(i.loadCartFromFirebase())}),N(11,"Load Cart from Firebase"),b()(),Ll()}if(e&2){let n=dt();ie(2),Oe("ngForOf",n.items)}}function tj(e,t){e&1&&(w(0,"p"),N(1,"Your cart is empty."),b(),w(2,"button",7),N(3,"Browse Recipes"),b())}var Wd=class e{constructor(t){this.cartService=t}items=[];ngOnInit(){this.cartService.loadCart().then(()=>{this.items=this.cartService.getItems()})}removeItem(t){this.cartService.removeItem(t),this.items=this.cartService.getItems()}clearCart(){this.cartService.clearCart(),this.items=[]}saveCartToFirebase(){this.cartService.saveCart()}loadCartFromFirebase(){this.cartService.loadCart().then(()=>{this.items=this.cartService.getItems()})}static \u0275fac=function(n){return new(n||e)(W(cr))};static \u0275cmp=xe({type:e,selectors:[["app-cart-view"]],decls:8,vars:4,consts:[["emptyCart",""],[1,"cart-wrapper"],[4,"ngIf","ngIfElse"],[1,"cart-grid"],["class","cart-card",4,"ngFor","ngForOf"],[1,"cart-actions"],[1,"btn","cart-btn",3,"click"],["routerLink","/recipes",1,"btn","recipes-btn"],[1,"cart-card"],[1,"cart-thumb",3,"src","alt"],[1,"description"]],template:function(n,r){if(n&1&&(w(0,"div",1)(1,"h2"),N(2,"Your Cart"),b(),w(3,"p"),N(4),b(),Dt(5,ej,12,1,"ng-container",2)(6,tj,4,0,"ng-template",null,0,Op),b()),n&2){let i=Rp(7);ie(4),jl("You have ",r.items.length," item",r.items.length>1?"s":""," in your cart."),ie(),Oe("ngIf",r.items.length>0)("ngIfElse",i)}},dependencies:[zt,eo,Ns],styles:[".cart-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px;font-family:Arial,sans-serif;text-align:center}h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px}.cart-wrapper[_ngcontent-%COMP%]{text-align:center;padding:2rem}.cart-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;margin-top:2rem}.cart-card[_ngcontent-%COMP%]{width:220px;border:1px solid #eee;border-radius:12px;background-color:#fff;box-shadow:0 4px 10px #0000000f;padding:1rem;text-align:center}.cart-thumb[_ngcontent-%COMP%]{width:100px;height:auto;object-fit:cover;border-radius:8px}.cart-actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center;gap:1rem}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px;font-weight:700;border-radius:6px;border:none;cursor:pointer;transition:background-color .2s ease}.cart-btn[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff;margin-top:8px}.cart-btn[_ngcontent-%COMP%]:hover{background-color:#e08700}.recipes-btn[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.recipes-btn[_ngcontent-%COMP%]:hover{background-color:#bbb}.cart-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:16px;margin-top:30px}"]})};var PT=[{path:"",component:Bd},{path:"recipes",component:Hd},{path:"ingredients",component:$d},{path:"cart",component:Wd}];var FT={providers:[Ng(PT)]};var LT={apiKey:"AIzaSyBS-hhNbqf9p7WGaDUgEaUj99fg1TZM9VI",authDomain:"angularapp5-b957c.firebaseapp.com",projectId:"angularapp5-b957c",storageBucket:"angularapp5-b957c.appspot.com",messagingSenderId:"933491611132",appId:"1:933491611132:web:37d67106c3a34a72cf8e79"};tg(Mu,{providers:[...FT.providers,aD(()=>cD(LT)),MT(()=>jd())]});
